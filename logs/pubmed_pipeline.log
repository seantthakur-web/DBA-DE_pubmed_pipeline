2025-11-11 21:44:23,294 | INFO | ‚úÖ Logger initialized successfully.
2025-11-11 21:44:23,294 | INFO | üß™ Test log message from centralized logger.
2025-11-11 21:50:11,805 | INFO | ‚úÖ Logger initialized successfully.
2025-11-11 21:50:11,805 | INFO | üöÄ Starting Spark Producer simulation...
2025-11-11 21:50:11,805 | INFO | üì§ Produced message: üìÑ Mock PubMed record #1
2025-11-11 21:50:12,805 | INFO | üì§ Produced message: üìÑ Mock PubMed record #2
2025-11-11 21:50:13,806 | INFO | üì§ Produced message: üìÑ Mock PubMed record #3
2025-11-11 21:50:14,806 | INFO | ‚úÖ Spark Producer completed successfully.
2025-11-11 21:57:00,505 | INFO | ‚úÖ Logger initialized successfully.
2025-11-11 21:57:00,505 | INFO | üöÄ Starting Vector Loader simulation...
2025-11-11 21:57:00,505 | INFO | üì• Consumed message: PubMed vector #1
2025-11-11 21:57:01,506 | INFO | üì• Consumed message: PubMed vector #2
2025-11-11 21:57:02,506 | INFO | üì• Consumed message: PubMed vector #3
2025-11-11 21:57:03,507 | INFO | ‚úÖ Vector Loader completed successfully.
2025-11-12 23:47:56,047 | INFO | ‚úÖ Logger initialized successfully.
2025-11-12 23:47:56,209 | INFO | ‚úÖ Logger initialized successfully.
2025-11-12 23:47:56,210 | INFO | Starting LangGraph environment smoke test
2025-11-12 23:47:56,215 | INFO | LangGraph base graph compiled successfully
2025-11-12 23:47:56,216 | INFO | Initialized AgentState with trace_id=1f05b95a-440d-4406-b98f-21aaf59a6319
2025-11-12 23:47:56,217 | INFO | Router node invoked | trace_id=1f05b95a-440d-4406-b98f-21aaf59a6319 | query=test query from smoke test
2025-11-12 23:47:56,221 | INFO | Smoke test completed | result_state_keys=['query', 'documents', 'metadata', 'summary', 'insights', 'answer', 'trace_id', 'debug']
2025-11-12 23:47:56,222 | INFO | LangGraph environment smoke test passed
2025-11-13 00:01:17,145 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:05:48,445 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:05:48,446 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:05:49,321 | INFO | No environment configuration found.
2025-11-13 00:05:49,325 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 00:05:49,329 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_ENDPOINT/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '82bd04e6-c024-11f0-9191-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:05:49,342 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_ENDPOINT/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '82bd04e6-c024-11f0-9191-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:05:50,951 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_ENDPOINT/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '82bd04e6-c024-11f0-9191-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:05:54,168 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_ENDPOINT/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '82bd04e6-c024-11f0-9191-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:05:54,177 | WARNING | Failed to retrieve secret 'AZURE_OPENAI_ENDPOINT': <urllib3.connection.HTTPSConnection object at 0x7c6e40b63da0>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 00:05:54,178 | INFO | No environment configuration found.
2025-11-13 00:05:54,179 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 00:05:54,180 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_DEPLOYMENT/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '85a1a30d-c024-11f0-b797-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:05:54,192 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_DEPLOYMENT/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '85a1a30d-c024-11f0-b797-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:05:55,801 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_DEPLOYMENT/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '85a1a30d-c024-11f0-b797-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:05:59,017 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_DEPLOYMENT/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '85a1a30d-c024-11f0-b797-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:05:59,025 | WARNING | Failed to retrieve secret 'AZURE_OPENAI_DEPLOYMENT': <urllib3.connection.HTTPSConnection object at 0x7c6e40bb2420>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 00:05:59,025 | INFO | No environment configuration found.
2025-11-13 00:05:59,026 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 00:05:59,027 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_API_KEY/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '8885359c-c024-11f0-a976-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:05:59,037 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_API_KEY/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '8885359c-c024-11f0-a976-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:06:00,644 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_API_KEY/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '8885359c-c024-11f0-a976-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:06:03,853 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_API_KEY/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '8885359c-c024-11f0-a976-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:06:03,867 | WARNING | Failed to retrieve secret 'AZURE_OPENAI_API_KEY': <urllib3.connection.HTTPSConnection object at 0x7c6e40bb16a0>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 00:06:03,867 | ERROR | Azure OpenAI configuration incomplete, skipping model creation
2025-11-13 00:06:03,868 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:06:03,868 | INFO | Starting LangGraph smoke test
2025-11-13 00:06:03,872 | INFO | LangGraph compiled (router ‚Üí summarizer ‚Üí END)
2025-11-13 00:06:03,873 | INFO | Initialized AgentState | trace_id=4a20d0ec-bde7-4a4a-bb35-b70852287f12
2025-11-13 00:06:03,876 | INFO | Router node invoked | trace_id=4a20d0ec-bde7-4a4a-bb35-b70852287f12 | query=test query for summarizer
2025-11-13 00:06:03,877 | INFO | Summarizer node invoked | trace_id=4a20d0ec-bde7-4a4a-bb35-b70852287f12
2025-11-13 00:06:03,877 | WARNING | Azure model unavailable ‚Äî using fallback summary
2025-11-13 00:06:03,877 | INFO | Smoke test completed | trace_id=4a20d0ec-bde7-4a4a-bb35-b70852287f12 | keys=['query', 'documents', 'summary', 'insights', 'answer', 'metadata', 'trace_id', 'debug']
2025-11-13 00:06:03,878 | INFO | LangGraph environment smoke test passed
2025-11-13 00:16:03,262 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:16:03,264 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:16:04,738 | WARNING | Insight prompt template not found at /home/seanthakur/pubmed_pipeline/rag/prompts/insight_template.txt. Using default prompt.
2025-11-13 00:16:04,739 | INFO | No environment configuration found.
2025-11-13 00:16:04,743 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 00:16:04,747 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_ENDPOINT/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f18e570f-c025-11f0-963b-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:16:04,758 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_ENDPOINT/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f18e570f-c025-11f0-963b-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:16:06,367 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_ENDPOINT/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f18e570f-c025-11f0-963b-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:16:09,580 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_ENDPOINT/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f18e570f-c025-11f0-963b-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:16:09,588 | WARNING | Failed to retrieve secret 'AZURE_OPENAI_ENDPOINT': <urllib3.connection.HTTPSConnection object at 0x762eea52cd10>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 00:16:09,589 | INFO | No environment configuration found.
2025-11-13 00:16:09,589 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 00:16:09,591 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_DEPLOYMENT/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f471cfd6-c025-11f0-b6bf-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:16:09,598 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_DEPLOYMENT/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f471cfd6-c025-11f0-b6bf-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:16:11,208 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_DEPLOYMENT/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f471cfd6-c025-11f0-b6bf-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:16:14,417 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_DEPLOYMENT/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f471cfd6-c025-11f0-b6bf-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:16:14,427 | WARNING | Failed to retrieve secret 'AZURE_OPENAI_DEPLOYMENT': <urllib3.connection.HTTPSConnection object at 0x762eea52f4a0>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 00:16:14,427 | INFO | No environment configuration found.
2025-11-13 00:16:14,428 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 00:16:14,429 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_API_KEY/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f7541785-c025-11f0-bd91-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:16:14,438 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_API_KEY/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f7541785-c025-11f0-bd91-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:16:16,045 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_API_KEY/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f7541785-c025-11f0-bd91-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:16:19,255 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/AZURE_OPENAI_API_KEY/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f7541785-c025-11f0-bd91-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 00:16:19,268 | WARNING | Failed to retrieve secret 'AZURE_OPENAI_API_KEY': <urllib3.connection.HTTPSConnection object at 0x762eea561d00>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 00:16:19,269 | ERROR | Insight Reporter: Azure OpenAI configuration incomplete.
2025-11-13 00:17:54,702 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:18:31,004 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:19:51,833 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:21:25,247 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:21:43,232 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:22:35,955 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:22:41,984 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:22:41,987 | INFO | Starting LangGraph smoke test
2025-11-13 00:22:41,991 | INFO | Initialized AgentState | trace_id=bc7433e3-2c0a-48c9-85b8-a93ebe710b71
2025-11-13 00:22:41,993 | INFO | Router node invoked | trace_id=bc7433e3-2c0a-48c9-85b8-a93ebe710b71 | query=test query for reporter flow
2025-11-13 00:25:33,337 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:27:11,319 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:28:07,580 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:28:54,905 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:32:04,144 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:33:12,289 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:33:30,120 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:33:30,677 | ERROR | Azure LLM init failed: cannot import name 'summarizer_node' from partially initialized module 'agents.summarizer.summarizer_agent' (most likely due to a circular import) (/home/seanthakur/pubmed_pipeline/agents/summarizer/summarizer_agent.py)
2025-11-13 00:34:56,218 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:37:49,101 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:40:36,300 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:40:36,359 | INFO | Starting LangGraph smoke test
2025-11-13 00:40:36,824 | INFO | LangGraph compiled: router ‚Üí summarizer ‚Üí reporter ‚Üí END
2025-11-13 00:42:14,604 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:42:14,679 | INFO | Starting LangGraph smoke test
2025-11-13 00:42:15,160 | INFO | LangGraph compiled: router ‚Üí summarizer ‚Üí reporter ‚Üí END
2025-11-13 00:43:10,150 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:43:10,204 | INFO | Starting LangGraph smoke test
2025-11-13 00:43:10,679 | INFO | LangGraph compiled: router ‚Üí summarizer ‚Üí reporter ‚Üí END
2025-11-13 00:43:10,685 | INFO | Router node invoked | trace_id=9f62436f-cb58-410b-b7e1-32f77628e047 | query=test query for reporter flow
2025-11-13 00:44:12,652 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:44:12,731 | INFO | Starting LangGraph smoke test
2025-11-13 00:44:13,226 | INFO | LangGraph compiled: router ‚Üí summarizer ‚Üí reporter ‚Üí END
2025-11-13 00:44:13,234 | INFO | Router node invoked | trace_id=b1cd7b08-9888-4032-96ad-955765381e7a | query=test query for reporter flow
2025-11-13 00:45:59,422 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:46:20,863 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:46:20,953 | INFO | Starting LangGraph smoke test
2025-11-13 00:46:21,483 | INFO | LangGraph compiled: router ‚Üí summarizer ‚Üí reporter ‚Üí END
2025-11-13 00:46:21,489 | INFO | Router node invoked | trace_id=4a7e6899-41a3-45a3-92a4-f71d5193f7cb | query=test query for reporter flow
2025-11-13 00:46:21,490 | INFO | Summarizer node invoked | trace_id=4a7e6899-41a3-45a3-92a4-f71d5193f7cb
2025-11-13 00:46:21,490 | ERROR | Azure LLM init failed: cannot import name 'get_azure_openai_config' from 'agents.base.langgraph_env' (/home/seanthakur/pubmed_pipeline/agents/base/langgraph_env.py)
2025-11-13 00:46:21,490 | WARNING | Azure model unavailable ‚Äî using fallback summary
2025-11-13 00:49:49,835 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:49:49,897 | INFO | Starting LangGraph smoke test
2025-11-13 00:49:50,393 | INFO | LangGraph compiled: router ‚Üí summarizer ‚Üí reporter ‚Üí END
2025-11-13 00:49:50,398 | INFO | Router node invoked | trace_id=9f6902c4-7184-46df-9dce-57cda5b946f0 | query=test query for reporter flow
2025-11-13 00:51:25,432 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:51:25,503 | INFO | Starting LangGraph smoke test
2025-11-13 00:51:26,025 | INFO | LangGraph compiled: router ‚Üí summarizer ‚Üí reporter ‚Üí END
2025-11-13 00:51:26,031 | INFO | Router node invoked | trace_id=f5eff306-507f-4675-af0f-62a7ce3f8bef | query=test query for reporter flow
2025-11-13 00:51:26,031 | INFO | Summarizer node invoked | trace_id=f5eff306-507f-4675-af0f-62a7ce3f8bef
2025-11-13 00:51:26,032 | INFO | Reporter node invoked | trace_id=f5eff306-507f-4675-af0f-62a7ce3f8bef
2025-11-13 00:51:26,033 | ERROR | Reporter fallback due to Azure LLM error: build_azure_llm() takes 0 positional arguments but 1 was given
2025-11-13 00:51:26,033 | INFO | Smoke test completed | trace_id=f5eff306-507f-4675-af0f-62a7ce3f8bef | keys=['query', 'documents', 'summary', 'insights', 'answer', 'metadata', 'trace_id', 'debug']
2025-11-13 00:51:26,034 | INFO | LangGraph environment smoke test passed
2025-11-13 00:54:02,580 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 00:54:02,614 | INFO | Starting LangGraph smoke test
2025-11-13 00:54:03,148 | INFO | LangGraph compiled: router ‚Üí summarizer ‚Üí reporter ‚Üí END
2025-11-13 00:54:03,159 | INFO | Router node invoked | trace_id=30508f2b-be39-47a3-ae03-057c8f79643a | query=test query for reporter flow
2025-11-13 00:54:03,160 | INFO | Summarizer node invoked | trace_id=30508f2b-be39-47a3-ae03-057c8f79643a
2025-11-13 00:54:03,162 | INFO | Reporter node invoked | trace_id=30508f2b-be39-47a3-ae03-057c8f79643a
2025-11-13 00:54:03,989 | ERROR | Azure LLM init failed: Azure OpenAI configuration missing.
2025-11-13 00:54:03,990 | ERROR | Reporter fallback due to Azure LLM error: 'NoneType' object has no attribute 'invoke'
2025-11-13 00:54:03,990 | INFO | Smoke test completed | trace_id=30508f2b-be39-47a3-ae03-057c8f79643a | keys=['query', 'documents', 'summary', 'insights', 'answer', 'metadata', 'trace_id', 'debug']
2025-11-13 00:54:03,991 | INFO | LangGraph environment smoke test passed
2025-11-13 02:43:34,982 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 02:43:34,984 | INFO | Loaded Azure model: gpt-4o-mini
2025-11-13 02:44:20,901 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 02:44:20,904 | INFO | Loaded Azure model: gpt-4o-mini
2025-11-13 02:45:19,943 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 02:45:19,946 | INFO | Loaded Azure model: gpt-4o-mini
2025-11-13 02:46:06,504 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 02:46:06,506 | INFO | Loaded Azure model: gpt-4o-mini
2025-11-13 02:46:50,960 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 02:46:50,963 | INFO | Loaded Azure model: gpt-4o-mini
2025-11-13 02:47:40,500 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 02:47:40,504 | INFO | Loaded Azure model: gpt-4o-mini
2025-11-13 02:48:40,742 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 02:48:40,745 | INFO | Loaded Azure model: gpt-4o-mini
2025-11-13 02:48:40,751 | INFO | üöÄ LangGraph Smoke Test Starting
2025-11-13 02:48:40,772 | INFO | [trace_id=13318624-266d-403a-8e38-8b2d05d83471] RouterAgent: starting routing
2025-11-13 02:48:40,773 | INFO | [trace_id=13318624-266d-403a-8e38-8b2d05d83471] RouterAgent: routing completed
2025-11-13 02:48:40,774 | INFO | [trace_id=13318624-266d-403a-8e38-8b2d05d83471] SummarizerAgent: starting summarization
2025-11-13 02:51:51,603 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 02:51:51,606 | INFO | Loaded Azure model: gpt-4o-mini
2025-11-13 02:51:51,616 | INFO | üöÄ LangGraph Smoke Test Starting
2025-11-13 02:51:51,628 | INFO | [trace_id=52fa6d30-a955-4bd8-8d97-8f6c47a878a3] RouterAgent: starting routing
2025-11-13 02:51:51,628 | INFO | [trace_id=52fa6d30-a955-4bd8-8d97-8f6c47a878a3] RouterAgent: routing completed
2025-11-13 02:51:51,629 | INFO | [trace_id=52fa6d30-a955-4bd8-8d97-8f6c47a878a3] SummarizerAgent: starting summarization
2025-11-13 02:51:52,083 | WARNING | [trace_id=52fa6d30-a955-4bd8-8d97-8f6c47a878a3] SummarizerAgent: Azure error ‚Üí fallback: Azure OpenAI environment variables missing: AZURE_OPENAI_ENDPOINT or AZURE_OPENAI_API_KEY
2025-11-13 02:51:52,083 | INFO | [trace_id=52fa6d30-a955-4bd8-8d97-8f6c47a878a3] SummarizerAgent: completed (status=fallback_error)
2025-11-13 02:51:52,084 | INFO | [trace_id=52fa6d30-a955-4bd8-8d97-8f6c47a878a3] ReporterAgent: starting insight extraction
2025-11-13 02:51:52,084 | WARNING | [trace_id=52fa6d30-a955-4bd8-8d97-8f6c47a878a3] ReporterAgent: Azure error ‚Üí fallback: Azure OpenAI environment variables missing: AZURE_OPENAI_ENDPOINT or AZURE_OPENAI_API_KEY
2025-11-13 02:51:52,085 | INFO | [trace_id=52fa6d30-a955-4bd8-8d97-8f6c47a878a3] ReporterAgent: completed (status=fallback_error)
2025-11-13 02:51:52,085 | INFO | [trace_id=52fa6d30-a955-4bd8-8d97-8f6c47a878a3] AnswerAgent: starting
2025-11-13 02:51:52,085 | WARNING | [trace_id=52fa6d30-a955-4bd8-8d97-8f6c47a878a3] Azure error ‚Üí fallback: Azure OpenAI environment variables missing: AZURE_OPENAI_ENDPOINT or AZURE_OPENAI_API_KEY
2025-11-13 02:51:52,086 | INFO | [trace_id=52fa6d30-a955-4bd8-8d97-8f6c47a878a3] AnswerAgent: completed (status=fallback)
2025-11-13 02:51:52,086 | INFO | ‚úÖ Execution Complete
2025-11-13 02:51:52,086 | INFO | üßµ trace_id=52fa6d30-a955-4bd8-8d97-8f6c47a878a3
2025-11-13 02:51:52,086 | INFO | üìÑ Final state keys: ['query', 'documents', 'summary', 'insights', 'answer', 'citations', 'metadata', 'debug', 'trace_id']
2025-11-13 02:53:18,956 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 02:53:18,959 | INFO | Loaded Azure model: gpt-4o-mini
2025-11-13 02:53:18,961 | INFO | üöÄ LangGraph Smoke Test Starting
2025-11-13 02:53:18,974 | INFO | [trace_id=e7b95fd5-36ff-4f41-a46a-7dd93718ba7c] RouterAgent: starting routing
2025-11-13 02:53:18,975 | INFO | [trace_id=e7b95fd5-36ff-4f41-a46a-7dd93718ba7c] RouterAgent: routing completed
2025-11-13 02:53:18,975 | INFO | [trace_id=e7b95fd5-36ff-4f41-a46a-7dd93718ba7c] SummarizerAgent: starting summarization
2025-11-13 02:53:19,426 | WARNING | [trace_id=e7b95fd5-36ff-4f41-a46a-7dd93718ba7c] SummarizerAgent: Azure error ‚Üí fallback: Azure OpenAI environment variables missing: AZURE_OPENAI_ENDPOINT or AZURE_OPENAI_API_KEY
2025-11-13 02:53:19,426 | INFO | [trace_id=e7b95fd5-36ff-4f41-a46a-7dd93718ba7c] SummarizerAgent: completed (status=fallback_error)
2025-11-13 02:53:19,428 | INFO | [trace_id=e7b95fd5-36ff-4f41-a46a-7dd93718ba7c] ReporterAgent: starting insight extraction
2025-11-13 02:53:19,428 | WARNING | [trace_id=e7b95fd5-36ff-4f41-a46a-7dd93718ba7c] ReporterAgent: Azure error ‚Üí fallback: Azure OpenAI environment variables missing: AZURE_OPENAI_ENDPOINT or AZURE_OPENAI_API_KEY
2025-11-13 02:53:19,428 | INFO | [trace_id=e7b95fd5-36ff-4f41-a46a-7dd93718ba7c] ReporterAgent: completed (status=fallback_error)
2025-11-13 02:53:19,430 | INFO | [trace_id=e7b95fd5-36ff-4f41-a46a-7dd93718ba7c] AnswerAgent: starting
2025-11-13 02:53:19,431 | WARNING | [trace_id=e7b95fd5-36ff-4f41-a46a-7dd93718ba7c] Azure error ‚Üí fallback: Azure OpenAI environment variables missing: AZURE_OPENAI_ENDPOINT or AZURE_OPENAI_API_KEY
2025-11-13 02:53:19,431 | INFO | [trace_id=e7b95fd5-36ff-4f41-a46a-7dd93718ba7c] AnswerAgent: completed (status=fallback)
2025-11-13 02:53:19,432 | INFO | ‚úì Execution Complete
2025-11-13 02:53:19,432 | INFO | üßµ trace_id=e7b95fd5-36ff-4f41-a46a-7dd93718ba7c
2025-11-13 02:53:19,432 | INFO | üìÑ Final state keys: ['query', 'documents', 'summary', 'insights', 'answer', 'citations', 'metadata', 'debug', 'trace_id']
2025-11-13 03:03:00,315 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:03:00,356 | INFO | Loaded Azure model: gpt-4o-mini
2025-11-13 03:08:14,144 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:08:14,175 | INFO | Loaded Azure model: gpt-4o-mini
2025-11-13 03:09:15,984 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:09:16,019 | INFO | Loaded Azure model: gpt-4o-mini
2025-11-13 03:09:16,088 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:09:16,239 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:09:36,749 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:09:36,787 | INFO | Loaded Azure model: gpt-4o-mini
2025-11-13 03:09:36,852 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:09:36,997 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:09:37,022 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:09:37,023 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:09:37,023 | INFO | üöÄ LangGraph Smoke Test Starting
2025-11-13 03:09:37,027 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 03:09:37,027 | INFO | Running workflow: router_summarizer_raganswer_reporter
2025-11-13 03:09:37,028 | INFO | [trace_id=102a2bfb-1670-4fa8-8f2f-38652789e870] Starting workflow: router_summarizer_raganswer_reporter
2025-11-13 03:09:37,028 | INFO | [trace_id=102a2bfb-1670-4fa8-8f2f-38652789e870] ‚Üí Executing node 'router' (attempt 1/1)
2025-11-13 03:09:37,028 | INFO | RouterAgent: starting routing
2025-11-13 03:09:37,028 | ERROR | [trace_id=102a2bfb-1670-4fa8-8f2f-38652789e870] Error in node 'router': 'dict' object has no attribute 'debug'
2025-11-13 03:09:37,028 | ERROR | [trace_id=102a2bfb-1670-4fa8-8f2f-38652789e870] Max retries reached for node 'router'
2025-11-13 03:10:56,435 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:10:56,469 | INFO | Loaded Azure model: gpt-4o-mini
2025-11-13 03:10:56,535 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:10:56,687 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:10:56,703 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:10:56,707 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:10:56,707 | INFO | üöÄ LangGraph Smoke Test Starting
2025-11-13 03:10:56,712 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 03:10:56,712 | INFO | Running workflow: router_summarizer_raganswer_reporter
2025-11-13 03:10:56,713 | INFO | [trace_id=69b7c84a-3f95-4716-9c89-87abb300ea3b] Starting workflow: router_summarizer_raganswer_reporter
2025-11-13 03:10:56,713 | INFO | [trace_id=69b7c84a-3f95-4716-9c89-87abb300ea3b] ‚Üí Executing 'router' (Attempt 1/1)
2025-11-13 03:10:56,713 | INFO | [trace_id=69b7c84a-3f95-4716-9c89-87abb300ea3b] RouterAgent: starting routing
2025-11-13 03:10:56,713 | INFO | [trace_id=69b7c84a-3f95-4716-9c89-87abb300ea3b] RouterAgent: routing completed
2025-11-13 03:10:56,713 | INFO | [trace_id=69b7c84a-3f95-4716-9c89-87abb300ea3b] Current node: router ‚Üí Next: summarizer
2025-11-13 03:10:56,713 | INFO | [trace_id=69b7c84a-3f95-4716-9c89-87abb300ea3b] ‚Üí Executing 'summarizer' (Attempt 1/1)
2025-11-13 03:10:56,713 | INFO | [trace_id=69b7c84a-3f95-4716-9c89-87abb300ea3b] SummarizerAgent: starting summarization
2025-11-13 03:10:56,714 | INFO | [trace_id=69b7c84a-3f95-4716-9c89-87abb300ea3b] SummarizerAgent: summarization complete
2025-11-13 03:10:56,714 | INFO | [trace_id=69b7c84a-3f95-4716-9c89-87abb300ea3b] Current node: summarizer ‚Üí Next: rag_answer
2025-11-13 03:10:56,714 | INFO | [trace_id=69b7c84a-3f95-4716-9c89-87abb300ea3b] ‚Üí Executing 'rag_answer' (Attempt 1/2)
2025-11-13 03:10:56,714 | INFO | [trace_id=69b7c84a-3f95-4716-9c89-87abb300ea3b] RAGAnswerAgent: executing RAG pipeline
2025-11-13 03:10:56,714 | INFO | ‚û°Ô∏è Retrieving top 3 results for query: 'cisplatin S-1 gastric cancer outcomes'
2025-11-13 03:10:56,714 | INFO | No environment configuration found.
2025-11-13 03:10:56,718 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 03:10:56,722 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '5f42a476-c03e-11f0-97b8-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:10:56,735 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '5f42a476-c03e-11f0-97b8-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:10:58,345 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '5f42a476-c03e-11f0-97b8-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:01,555 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '5f42a476-c03e-11f0-97b8-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:01,565 | WARNING | Failed to retrieve secret 'PGHOST': <urllib3.connection.HTTPSConnection object at 0x79a0d5b12150>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 03:11:01,566 | INFO | No environment configuration found.
2025-11-13 03:11:01,566 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 03:11:01,567 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '62266cc8-c03e-11f0-a953-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:01,574 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '62266cc8-c03e-11f0-a953-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:03,188 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '62266cc8-c03e-11f0-a953-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:06,396 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '62266cc8-c03e-11f0-a953-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:06,405 | WARNING | Failed to retrieve secret 'PGUSER': <urllib3.connection.HTTPSConnection object at 0x79a0d5b5c6e0>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 03:11:06,406 | INFO | No environment configuration found.
2025-11-13 03:11:06,406 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 03:11:06,407 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '6508f39e-c03e-11f0-92e0-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:06,414 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '6508f39e-c03e-11f0-92e0-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:08,020 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '6508f39e-c03e-11f0-92e0-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:11,231 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '6508f39e-c03e-11f0-92e0-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:11,242 | WARNING | Failed to retrieve secret 'PGPASSWORD': <urllib3.connection.HTTPSConnection object at 0x79a0d5b5f050>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 03:11:11,243 | INFO | No environment configuration found.
2025-11-13 03:11:11,243 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 03:11:11,244 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '67eb06b9-c03e-11f0-b832-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:11,252 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '67eb06b9-c03e-11f0-b832-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:12,860 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '67eb06b9-c03e-11f0-b832-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:16,069 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '67eb06b9-c03e-11f0-b832-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:16,076 | WARNING | Failed to retrieve secret 'PGDATABASE': <urllib3.connection.HTTPSConnection object at 0x79a0d5b85a30>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 03:11:16,086 | ERROR | ‚ùå Database connection failed: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
Traceback (most recent call last):
  File "/home/seanthakur/pubmed_pipeline/rag/rag_retriever.py", line 20, in get_db_connection
    conn = psycopg2.connect(
           ^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?

2025-11-13 03:11:16,087 | ERROR | ‚ö†Ô∏è Retrieval failed: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
Traceback (most recent call last):
  File "/home/seanthakur/pubmed_pipeline/rag/rag_retriever.py", line 41, in retrieve_docs
    conn = get_db_connection()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/rag/rag_retriever.py", line 20, in get_db_connection
    conn = psycopg2.connect(
           ^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?

2025-11-13 03:11:16,088 | ERROR | [trace_id=69b7c84a-3f95-4716-9c89-87abb300ea3b] Error in node 'rag_answer': "AgentState" object has no field "retrieved_docs"
2025-11-13 03:11:16,088 | INFO | [trace_id=69b7c84a-3f95-4716-9c89-87abb300ea3b] ‚Üí Executing 'rag_answer' (Attempt 2/2)
2025-11-13 03:11:16,088 | INFO | [trace_id=69b7c84a-3f95-4716-9c89-87abb300ea3b] RAGAnswerAgent: executing RAG pipeline
2025-11-13 03:11:16,088 | INFO | ‚û°Ô∏è Retrieving top 3 results for query: 'cisplatin S-1 gastric cancer outcomes'
2025-11-13 03:11:16,090 | INFO | No environment configuration found.
2025-11-13 03:11:16,091 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 03:11:16,092 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '6acebba0-c03e-11f0-9f3f-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:16,101 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '6acebba0-c03e-11f0-9f3f-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:17,711 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '6acebba0-c03e-11f0-9f3f-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:20,920 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '6acebba0-c03e-11f0-9f3f-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:20,932 | WARNING | Failed to retrieve secret 'PGHOST': <urllib3.connection.HTTPSConnection object at 0x79a0d5bbc470>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 03:11:20,932 | INFO | No environment configuration found.
2025-11-13 03:11:20,933 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 03:11:20,934 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '6db19784-c03e-11f0-8315-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:20,943 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '6db19784-c03e-11f0-8315-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:22,554 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '6db19784-c03e-11f0-8315-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:25,765 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '6db19784-c03e-11f0-8315-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:25,773 | WARNING | Failed to retrieve secret 'PGUSER': <urllib3.connection.HTTPSConnection object at 0x79a0d5b87170>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 03:11:25,773 | INFO | No environment configuration found.
2025-11-13 03:11:25,774 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 03:11:25,775 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '7094358c-c03e-11f0-9309-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:25,783 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '7094358c-c03e-11f0-9309-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:27,389 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '7094358c-c03e-11f0-9309-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:30,599 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '7094358c-c03e-11f0-9309-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:30,609 | WARNING | Failed to retrieve secret 'PGPASSWORD': <urllib3.connection.HTTPSConnection object at 0x79a0d5b5ff50>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 03:11:30,609 | INFO | No environment configuration found.
2025-11-13 03:11:30,610 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 03:11:30,611 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '73761c1e-c03e-11f0-8f6f-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:30,630 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '73761c1e-c03e-11f0-8f6f-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:32,238 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '73761c1e-c03e-11f0-8f6f-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:35,445 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '73761c1e-c03e-11f0-8f6f-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:11:35,452 | WARNING | Failed to retrieve secret 'PGDATABASE': <urllib3.connection.HTTPSConnection object at 0x79a0d5b5da90>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 03:11:35,453 | ERROR | ‚ùå Database connection failed: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
Traceback (most recent call last):
  File "/home/seanthakur/pubmed_pipeline/rag/rag_retriever.py", line 20, in get_db_connection
    conn = psycopg2.connect(
           ^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?

2025-11-13 03:11:35,454 | ERROR | ‚ö†Ô∏è Retrieval failed: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
Traceback (most recent call last):
  File "/home/seanthakur/pubmed_pipeline/rag/rag_retriever.py", line 41, in retrieve_docs
    conn = get_db_connection()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/rag/rag_retriever.py", line 20, in get_db_connection
    conn = psycopg2.connect(
           ^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?

2025-11-13 03:11:35,455 | ERROR | [trace_id=69b7c84a-3f95-4716-9c89-87abb300ea3b] Error in node 'rag_answer': "AgentState" object has no field "retrieved_docs"
2025-11-13 03:11:35,455 | ERROR | [trace_id=69b7c84a-3f95-4716-9c89-87abb300ea3b] Maximum retries reached for 'rag_answer'
2025-11-13 03:12:57,473 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:12:57,626 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:12:57,644 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:12:57,645 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:12:57,645 | INFO | üöÄ LangGraph Smoke Test Starting
2025-11-13 03:12:57,648 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 03:12:57,649 | INFO | Running workflow: router_summarizer_raganswer_reporter
2025-11-13 03:12:57,649 | INFO | [trace_id=e6e6b83c-e16e-4fa9-9bb7-dbbdd57126a8] Starting workflow: router_summarizer_raganswer_reporter
2025-11-13 03:12:57,649 | INFO | [trace_id=e6e6b83c-e16e-4fa9-9bb7-dbbdd57126a8] ‚Üí Executing 'router' (Attempt 1/1)
2025-11-13 03:12:57,649 | INFO | [trace_id=e6e6b83c-e16e-4fa9-9bb7-dbbdd57126a8] RouterAgent: starting routing
2025-11-13 03:12:57,649 | INFO | [trace_id=e6e6b83c-e16e-4fa9-9bb7-dbbdd57126a8] RouterAgent: routing completed
2025-11-13 03:12:57,649 | INFO | [trace_id=e6e6b83c-e16e-4fa9-9bb7-dbbdd57126a8] Current node: router ‚Üí Next: summarizer
2025-11-13 03:12:57,649 | INFO | [trace_id=e6e6b83c-e16e-4fa9-9bb7-dbbdd57126a8] ‚Üí Executing 'summarizer' (Attempt 1/1)
2025-11-13 03:12:57,649 | INFO | [trace_id=e6e6b83c-e16e-4fa9-9bb7-dbbdd57126a8] SummarizerAgent: starting summarization
2025-11-13 03:12:57,649 | INFO | [trace_id=e6e6b83c-e16e-4fa9-9bb7-dbbdd57126a8] SummarizerAgent: summarization complete
2025-11-13 03:12:57,649 | INFO | [trace_id=e6e6b83c-e16e-4fa9-9bb7-dbbdd57126a8] Current node: summarizer ‚Üí Next: rag_answer
2025-11-13 03:12:57,650 | INFO | [trace_id=e6e6b83c-e16e-4fa9-9bb7-dbbdd57126a8] ‚Üí Executing 'rag_answer' (Attempt 1/2)
2025-11-13 03:12:57,650 | INFO | [trace_id=e6e6b83c-e16e-4fa9-9bb7-dbbdd57126a8] RAGAnswerAgent: executing RAG pipeline
2025-11-13 03:12:57,650 | INFO | ‚û°Ô∏è Retrieving top 3 results for query: 'cisplatin S-1 gastric cancer outcomes'
2025-11-13 03:12:57,650 | INFO | No environment configuration found.
2025-11-13 03:12:57,657 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 03:12:57,661 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'a7588b2d-c03e-11f0-9560-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:12:57,675 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'a7588b2d-c03e-11f0-9560-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:12:59,284 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'a7588b2d-c03e-11f0-9560-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:13:02,494 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'a7588b2d-c03e-11f0-9560-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:13:02,502 | WARNING | Failed to retrieve secret 'PGHOST': <urllib3.connection.HTTPSConnection object at 0x7b785f2a5f40>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 03:13:02,503 | INFO | No environment configuration found.
2025-11-13 03:13:02,503 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 03:13:02,504 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'aa3bed01-c03e-11f0-89b8-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:13:02,516 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'aa3bed01-c03e-11f0-89b8-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:13:04,123 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'aa3bed01-c03e-11f0-89b8-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:13:07,335 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'aa3bed01-c03e-11f0-89b8-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:13:07,342 | WARNING | Failed to retrieve secret 'PGUSER': <urllib3.connection.HTTPSConnection object at 0x7b785f2f0500>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 03:13:07,343 | INFO | No environment configuration found.
2025-11-13 03:13:07,343 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 03:13:07,345 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ad1e8885-c03e-11f0-b565-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:13:07,352 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ad1e8885-c03e-11f0-b565-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:13:08,958 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ad1e8885-c03e-11f0-b565-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:13:12,167 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ad1e8885-c03e-11f0-b565-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:13:12,180 | WARNING | Failed to retrieve secret 'PGPASSWORD': <urllib3.connection.HTTPSConnection object at 0x7b785f2f2fc0>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 03:13:12,181 | INFO | No environment configuration found.
2025-11-13 03:13:12,182 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 03:13:12,183 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b000c427-c03e-11f0-8096-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:13:12,190 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b000c427-c03e-11f0-8096-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:13:13,800 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b000c427-c03e-11f0-8096-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:13:17,010 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b000c427-c03e-11f0-8096-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:13:17,018 | WARNING | Failed to retrieve secret 'PGDATABASE': <urllib3.connection.HTTPSConnection object at 0x7b785f31da00>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 03:13:17,025 | ERROR | ‚ùå Database connection failed: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
Traceback (most recent call last):
  File "/home/seanthakur/pubmed_pipeline/rag/rag_retriever.py", line 20, in get_db_connection
    conn = psycopg2.connect(
           ^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?

2025-11-13 03:13:17,026 | ERROR | ‚ö†Ô∏è Retrieval failed: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
Traceback (most recent call last):
  File "/home/seanthakur/pubmed_pipeline/rag/rag_retriever.py", line 41, in retrieve_docs
    conn = get_db_connection()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/rag/rag_retriever.py", line 20, in get_db_connection
    conn = psycopg2.connect(
           ^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?

2025-11-13 03:13:17,027 | INFO | No environment configuration found.
2025-11-13 03:13:17,028 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 03:13:17,029 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-endpoint/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b2e43ed9-c03e-11f0-9815-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:13:17,037 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-endpoint/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b2e43ed9-c03e-11f0-9815-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:13:18,643 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-endpoint/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b2e43ed9-c03e-11f0-9815-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:13:21,850 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-endpoint/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b2e43ed9-c03e-11f0-9815-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:13:21,858 | WARNING | Failed to retrieve secret 'azure-openai-endpoint': <urllib3.connection.HTTPSConnection object at 0x7b785f3544d0>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 03:13:21,858 | INFO | No environment configuration found.
2025-11-13 03:13:21,859 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 03:13:21,861 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-key/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b5c5968c-c03e-11f0-b855-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:13:21,873 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-key/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b5c5968c-c03e-11f0-b855-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:13:23,481 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-key/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b5c5968c-c03e-11f0-b855-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:13:26,689 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-key/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b5c5968c-c03e-11f0-b855-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:13:26,698 | WARNING | Failed to retrieve secret 'azure-openai-key': <urllib3.connection.HTTPSConnection object at 0x7b785f356e40>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 03:13:26,698 | INFO | üß† Sending generation request to Azure OpenAI for query: 'cisplatin S-1 gastric cancer outcomes'
2025-11-13 03:13:26,698 | ERROR | ‚ùå OpenAI API call failed: Invalid URL '/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-05-01-preview': No scheme supplied. Perhaps you meant https:///openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-05-01-preview?
Traceback (most recent call last):
  File "/home/seanthakur/pubmed_pipeline/rag/rag_generator.py", line 55, in generate_answer
    response = requests.post(url, headers=headers, json=payload, timeout=30)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/sessions.py", line 575, in request
    prep = self.prepare_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/sessions.py", line 484, in prepare_request
    p.prepare(
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/models.py", line 367, in prepare
    self.prepare_url(url, params)
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/models.py", line 438, in prepare_url
    raise MissingSchema(
requests.exceptions.MissingSchema: Invalid URL '/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-05-01-preview': No scheme supplied. Perhaps you meant https:///openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-05-01-preview?
2025-11-13 03:13:26,704 | INFO | [trace_id=e6e6b83c-e16e-4fa9-9bb7-dbbdd57126a8] RAGAnswerAgent: completed RAG generation
2025-11-13 03:13:26,704 | INFO | [trace_id=e6e6b83c-e16e-4fa9-9bb7-dbbdd57126a8] Current node: rag_answer ‚Üí Next: reporter
2025-11-13 03:13:26,704 | INFO | [trace_id=e6e6b83c-e16e-4fa9-9bb7-dbbdd57126a8] ‚Üí Executing 'reporter' (Attempt 1/1)
2025-11-13 03:13:26,704 | INFO | [trace_id=e6e6b83c-e16e-4fa9-9bb7-dbbdd57126a8] ReporterAgent: generating insights
2025-11-13 03:13:26,704 | INFO | [trace_id=e6e6b83c-e16e-4fa9-9bb7-dbbdd57126a8] ReporterAgent: insight generation complete
2025-11-13 03:13:26,705 | INFO | [trace_id=e6e6b83c-e16e-4fa9-9bb7-dbbdd57126a8] Workflow reached exit node: reporter
2025-11-13 03:13:26,705 | INFO | üöÄ LangGraph Workflow Execution Completed
2025-11-13 03:14:44,203 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:14:44,416 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:14:44,440 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:14:44,441 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:14:44,441 | INFO | LangGraph Smoke Test Starting
2025-11-13 03:14:44,446 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 03:14:44,446 | INFO | Running workflow: router_summarizer_raganswer_reporter
2025-11-13 03:14:44,446 | INFO | [trace_id=d8cbda6d-0d9a-40b6-9373-d8b79c511375] Starting workflow: router_summarizer_raganswer_reporter
2025-11-13 03:14:44,446 | INFO | [trace_id=d8cbda6d-0d9a-40b6-9373-d8b79c511375] ‚Üí Executing 'router' (Attempt 1/1)
2025-11-13 03:14:44,447 | INFO | [trace_id=d8cbda6d-0d9a-40b6-9373-d8b79c511375] RouterAgent: starting routing
2025-11-13 03:14:44,447 | INFO | [trace_id=d8cbda6d-0d9a-40b6-9373-d8b79c511375] RouterAgent: routing completed
2025-11-13 03:14:44,447 | INFO | [trace_id=d8cbda6d-0d9a-40b6-9373-d8b79c511375] Current node: router ‚Üí Next: summarizer
2025-11-13 03:14:44,447 | INFO | [trace_id=d8cbda6d-0d9a-40b6-9373-d8b79c511375] ‚Üí Executing 'summarizer' (Attempt 1/1)
2025-11-13 03:14:44,447 | INFO | [trace_id=d8cbda6d-0d9a-40b6-9373-d8b79c511375] SummarizerAgent: starting summarization
2025-11-13 03:14:44,447 | INFO | [trace_id=d8cbda6d-0d9a-40b6-9373-d8b79c511375] SummarizerAgent: summarization complete
2025-11-13 03:14:44,447 | INFO | [trace_id=d8cbda6d-0d9a-40b6-9373-d8b79c511375] Current node: summarizer ‚Üí Next: rag_answer
2025-11-13 03:14:44,448 | INFO | [trace_id=d8cbda6d-0d9a-40b6-9373-d8b79c511375] ‚Üí Executing 'rag_answer' (Attempt 1/2)
2025-11-13 03:14:44,449 | INFO | [trace_id=d8cbda6d-0d9a-40b6-9373-d8b79c511375] RAGAnswerAgent: executing RAG pipeline
2025-11-13 03:14:44,449 | INFO | ‚û°Ô∏è Retrieving top 3 results for query: 'cisplatin S-1 gastric cancer outcomes'
2025-11-13 03:14:44,449 | INFO | No environment configuration found.
2025-11-13 03:14:44,452 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 03:14:44,459 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'e7008a94-c03e-11f0-b2a4-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:14:44,472 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'e7008a94-c03e-11f0-b2a4-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:14:46,082 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'e7008a94-c03e-11f0-b2a4-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:14:49,291 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'e7008a94-c03e-11f0-b2a4-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:14:49,300 | WARNING | Failed to retrieve secret 'PGHOST': <urllib3.connection.HTTPSConnection object at 0x7c5cccea1f40>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 03:14:49,300 | INFO | No environment configuration found.
2025-11-13 03:14:49,301 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 03:14:49,303 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'e9e40b22-c03e-11f0-92c9-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:14:49,312 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'e9e40b22-c03e-11f0-92c9-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:14:50,932 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'e9e40b22-c03e-11f0-92c9-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:14:54,143 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'e9e40b22-c03e-11f0-92c9-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:14:54,158 | WARNING | Failed to retrieve secret 'PGUSER': <urllib3.connection.HTTPSConnection object at 0x7c5ccceec590>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 03:14:54,158 | INFO | No environment configuration found.
2025-11-13 03:14:54,159 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 03:14:54,161 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ecc9575f-c03e-11f0-88cf-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:14:54,168 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ecc9575f-c03e-11f0-88cf-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:14:55,778 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ecc9575f-c03e-11f0-88cf-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:14:58,987 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ecc9575f-c03e-11f0-88cf-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:14:58,995 | WARNING | Failed to retrieve secret 'PGPASSWORD': <urllib3.connection.HTTPSConnection object at 0x7c5ccceeeed0>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 03:14:58,995 | INFO | No environment configuration found.
2025-11-13 03:14:58,996 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 03:14:58,997 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'efab4685-c03e-11f0-bbd5-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:14:59,005 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'efab4685-c03e-11f0-bbd5-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:15:00,619 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'efab4685-c03e-11f0-bbd5-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:15:03,828 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'efab4685-c03e-11f0-bbd5-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:15:03,837 | WARNING | Failed to retrieve secret 'PGDATABASE': <urllib3.connection.HTTPSConnection object at 0x7c5cccf197f0>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 03:15:03,845 | ERROR | ‚ùå Database connection failed: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
Traceback (most recent call last):
  File "/home/seanthakur/pubmed_pipeline/rag/rag_retriever.py", line 20, in get_db_connection
    conn = psycopg2.connect(
           ^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?

2025-11-13 03:15:03,846 | ERROR | ‚ö†Ô∏è Retrieval failed: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
Traceback (most recent call last):
  File "/home/seanthakur/pubmed_pipeline/rag/rag_retriever.py", line 41, in retrieve_docs
    conn = get_db_connection()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/rag/rag_retriever.py", line 20, in get_db_connection
    conn = psycopg2.connect(
           ^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?

2025-11-13 03:15:03,847 | INFO | No environment configuration found.
2025-11-13 03:15:03,848 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 03:15:03,849 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-endpoint/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f28fa271-c03e-11f0-ada1-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:15:03,856 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-endpoint/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f28fa271-c03e-11f0-ada1-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:15:05,463 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-endpoint/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f28fa271-c03e-11f0-ada1-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:15:08,673 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-endpoint/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f28fa271-c03e-11f0-ada1-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:15:08,689 | WARNING | Failed to retrieve secret 'azure-openai-endpoint': <urllib3.connection.HTTPSConnection object at 0x7c5cccf1bf80>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 03:15:08,689 | INFO | No environment configuration found.
2025-11-13 03:15:08,690 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 03:15:08,691 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-key/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f57275c0-c03e-11f0-ab89-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:15:08,702 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-key/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f57275c0-c03e-11f0-ab89-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:15:10,319 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-key/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f57275c0-c03e-11f0-ab89-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:15:13,527 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-key/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f57275c0-c03e-11f0-ab89-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 03:15:13,536 | WARNING | Failed to retrieve secret 'azure-openai-key': <urllib3.connection.HTTPSConnection object at 0x7c5cccf52870>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 03:15:13,536 | INFO | üß† Sending generation request to Azure OpenAI for query: 'cisplatin S-1 gastric cancer outcomes'
2025-11-13 03:15:13,537 | ERROR | ‚ùå OpenAI API call failed: Invalid URL '/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-05-01-preview': No scheme supplied. Perhaps you meant https:///openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-05-01-preview?
Traceback (most recent call last):
  File "/home/seanthakur/pubmed_pipeline/rag/rag_generator.py", line 55, in generate_answer
    response = requests.post(url, headers=headers, json=payload, timeout=30)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/sessions.py", line 575, in request
    prep = self.prepare_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/sessions.py", line 484, in prepare_request
    p.prepare(
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/models.py", line 367, in prepare
    self.prepare_url(url, params)
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/models.py", line 438, in prepare_url
    raise MissingSchema(
requests.exceptions.MissingSchema: Invalid URL '/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-05-01-preview': No scheme supplied. Perhaps you meant https:///openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-05-01-preview?
2025-11-13 03:15:13,540 | INFO | [trace_id=d8cbda6d-0d9a-40b6-9373-d8b79c511375] RAGAnswerAgent: completed RAG generation
2025-11-13 03:15:13,540 | INFO | [trace_id=d8cbda6d-0d9a-40b6-9373-d8b79c511375] Current node: rag_answer ‚Üí Next: reporter
2025-11-13 03:15:13,540 | INFO | [trace_id=d8cbda6d-0d9a-40b6-9373-d8b79c511375] ‚Üí Executing 'reporter' (Attempt 1/1)
2025-11-13 03:15:13,540 | INFO | [trace_id=d8cbda6d-0d9a-40b6-9373-d8b79c511375] ReporterAgent: generating insights
2025-11-13 03:15:13,540 | INFO | [trace_id=d8cbda6d-0d9a-40b6-9373-d8b79c511375] ReporterAgent: insight generation complete
2025-11-13 03:15:13,541 | INFO | [trace_id=d8cbda6d-0d9a-40b6-9373-d8b79c511375] Workflow reached exit node: reporter
2025-11-13 03:15:13,543 | INFO | LangGraph Workflow Execution Completed
2025-11-13 03:15:13,543 | INFO | Final State Keys: ['query', 'summary', 'insights', 'answer', 'trace_id', 'debug', 'retrieved_docs', 'context']
2025-11-13 03:15:13,543 | INFO | Final State Dump: {'query': 'cisplatin S-1 gastric cancer outcomes', 'summary': 'Summary for: cisplatin S-1 gastric cancer outcomes', 'insights': 'Insights extracted from summary: Summary for: cisplatin S-1 gastric cancer outcomes', 'answer': {'query': 'cisplatin S-1 gastric cancer outcomes', 'error': "Invalid URL '/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-05-01-preview': No scheme supplied. Perhaps you meant https:///openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-05-01-preview?"}, 'trace_id': 'd8cbda6d-0d9a-40b6-9373-d8b79c511375', 'debug': {'router': {'status': 'ok'}}, 'retrieved_docs': [], 'context': None}
2025-11-13 03:26:09,098 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:26:09,351 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:26:09,376 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:26:09,377 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:26:09,383 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 03:26:09,384 | INFO | üöÄ DAG Controller initialized for FastAPI server.
2025-11-13 03:29:01,828 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:29:02,208 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:29:02,246 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:29:02,248 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:29:02,260 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 03:29:02,260 | INFO | üöÄ DAG Controller initialized for FastAPI server.
2025-11-13 03:47:47,617 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:47:47,792 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:47:47,809 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:47:47,809 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:47:47,816 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 03:49:31,043 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:49:31,304 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:49:31,325 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:49:31,326 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 03:49:31,332 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 15:52:37,524 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 15:52:37,944 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 15:52:38,002 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 15:52:38,004 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 15:52:38,027 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 15:52:38,039 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 15:52:38,047 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 15:52:38,063 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 15:52:38,063 | INFO | üöÄ FastAPI + DAG Controller initialized successfully.
2025-11-13 17:24:23,143 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:24:23,321 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:24:23,342 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:24:23,343 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:24:36,513 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:24:36,680 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:24:36,696 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:24:36,696 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:24:36,703 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:25:00,015 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:25:00,223 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:25:00,240 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:25:00,241 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:25:00,250 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 17:25:00,255 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 17:25:11,318 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:25:11,490 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:25:11,509 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:25:11,510 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:25:11,518 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:25:11,519 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:25:11,519 | ERROR | ‚ö†Ô∏è Failed to initialize DagController in ask.py. Ask endpoint will operate in stub mode.
Traceback (most recent call last):
  File "/home/seanthakur/pubmed_pipeline/api/routes/ask.py", line 19, in <module>
    from pubmed_pipeline.agents.dag_controller import DagController  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ImportError: cannot import name 'DagController' from 'pubmed_pipeline.agents.dag_controller' (/home/seanthakur/pubmed_pipeline/agents/dag_controller.py)
2025-11-13 17:25:11,520 | INFO | OutputWriter initialized at: /home/seanthakur/pubmed_pipeline/outputs
2025-11-13 17:25:11,525 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 17:25:11,529 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 17:25:11,535 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 17:25:11,536 | INFO | üöÄ FastAPI + DAG Controller initialized successfully.
2025-11-13 17:25:30,966 | INFO | ‚û°Ô∏è /ask called | query='Summarize the FLAGS trial outcomes for gastric cancer....' | workflow=router_summarizer_raganswer_reporter
2025-11-13 17:25:30,967 | ERROR | ‚ùå Error while executing LangGraph workflow from /ask endpoint: DagController is not available
Traceback (most recent call last):
  File "/home/seanthakur/pubmed_pipeline/api/routes/ask.py", line 198, in ask_question
    state = _run_langgraph_workflow(
            ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/api/routes/ask.py", line 47, in _run_langgraph_workflow
    raise RuntimeError("DagController is not available")
RuntimeError: DagController is not available

2025-11-13 17:25:30,967 | WARNING | üü° Returning stubbed QueryResponse for trace_id=23dc3b3c-c4b2-42e5-b572-d44a98c79702 | workflow=router_summarizer_raganswer_reporter
2025-11-13 17:25:30,968 | INFO | ‚úÖ Wrote output file: /home/seanthakur/pubmed_pipeline/outputs/answers/23dc3b3c-c4b2-42e5-b572-d44a98c79702.json
2025-11-13 17:25:30,969 | INFO | ‚úÖ Wrote output file: /home/seanthakur/pubmed_pipeline/outputs/summaries/23dc3b3c-c4b2-42e5-b572-d44a98c79702.json
2025-11-13 17:25:30,969 | INFO | ‚úÖ Wrote output file: /home/seanthakur/pubmed_pipeline/outputs/insights/23dc3b3c-c4b2-42e5-b572-d44a98c79702.json
2025-11-13 17:25:30,969 | INFO | üì¶ OutputWriter.flush | trace_id=23dc3b3c-c4b2-42e5-b572-d44a98c79702 | answer_len=138 | summary_len=147
2025-11-13 17:31:26,958 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:31:27,133 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:31:27,149 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:31:27,150 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:31:27,159 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 17:31:27,163 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 17:31:41,272 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:31:41,449 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:31:41,466 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:31:41,467 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:31:41,474 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:31:41,475 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:31:41,478 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 17:31:41,478 | INFO | ‚úÖ DagController loaded successfully in ask.py
2025-11-13 17:31:41,479 | INFO | OutputWriter initialized at: /home/seanthakur/pubmed_pipeline/outputs
2025-11-13 17:31:41,483 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 17:31:41,487 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 17:31:41,494 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 17:31:41,494 | INFO | üöÄ FastAPI + DAG Controller initialized successfully.
2025-11-13 17:31:51,037 | INFO | ‚û°Ô∏è /ask called | query='summarize cisplatin outcomes...' | workflow=router_summarizer_raganswer_reporter
2025-11-13 17:31:51,037 | INFO | üîÅ Running workflow='router_summarizer_raganswer_reporter' via DagController | query='summarize cisplatin outcomes...'
2025-11-13 17:31:51,037 | INFO | [trace_id=8112c01b-d602-46a4-9dc4-ab67492e5bae] Starting workflow: router_summarizer_raganswer_reporter
2025-11-13 17:31:51,038 | INFO | [trace_id=8112c01b-d602-46a4-9dc4-ab67492e5bae] ‚Üí Executing 'router' (Attempt 1/1)
2025-11-13 17:31:51,038 | INFO | [trace_id=8112c01b-d602-46a4-9dc4-ab67492e5bae] RouterAgent: starting routing
2025-11-13 17:31:51,038 | INFO | [trace_id=8112c01b-d602-46a4-9dc4-ab67492e5bae] RouterAgent: routing completed
2025-11-13 17:31:51,038 | INFO | [trace_id=8112c01b-d602-46a4-9dc4-ab67492e5bae] Current node: router ‚Üí Next: summarizer
2025-11-13 17:31:51,038 | INFO | [trace_id=8112c01b-d602-46a4-9dc4-ab67492e5bae] ‚Üí Executing 'summarizer' (Attempt 1/1)
2025-11-13 17:31:51,039 | INFO | [trace_id=8112c01b-d602-46a4-9dc4-ab67492e5bae] SummarizerAgent: starting summarization
2025-11-13 17:31:51,039 | INFO | [trace_id=8112c01b-d602-46a4-9dc4-ab67492e5bae] SummarizerAgent: summarization complete
2025-11-13 17:31:51,039 | INFO | [trace_id=8112c01b-d602-46a4-9dc4-ab67492e5bae] Current node: summarizer ‚Üí Next: rag_answer
2025-11-13 17:31:51,039 | INFO | [trace_id=8112c01b-d602-46a4-9dc4-ab67492e5bae] ‚Üí Executing 'rag_answer' (Attempt 1/2)
2025-11-13 17:31:51,039 | INFO | [trace_id=8112c01b-d602-46a4-9dc4-ab67492e5bae] RAGAnswerAgent: executing RAG pipeline
2025-11-13 17:31:51,039 | INFO | ‚û°Ô∏è Retrieving top 3 results for query: 'summarize cisplatin outcomes'
2025-11-13 17:31:51,039 | INFO | No environment configuration found.
2025-11-13 17:31:51,042 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 17:31:51,046 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'a3a30875-c0b6-11f0-ad93-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:31:51,057 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'a3a30875-c0b6-11f0-ad93-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:31:52,667 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'a3a30875-c0b6-11f0-ad93-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:31:55,894 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'a3a30875-c0b6-11f0-ad93-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:31:55,905 | WARNING | Failed to retrieve secret 'PGHOST': <urllib3.connection.HTTPSConnection object at 0x741c29ae6090>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 17:31:55,905 | INFO | No environment configuration found.
2025-11-13 17:31:55,906 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 17:31:55,909 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'a689719b-c0b6-11f0-8f2d-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:31:55,918 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'a689719b-c0b6-11f0-8f2d-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:31:57,526 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'a689719b-c0b6-11f0-8f2d-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:00,735 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'a689719b-c0b6-11f0-8f2d-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:00,744 | WARNING | Failed to retrieve secret 'PGUSER': <urllib3.connection.HTTPSConnection object at 0x741c29b24740>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 17:32:00,744 | INFO | No environment configuration found.
2025-11-13 17:32:00,745 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 17:32:00,746 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'a96b7ea6-c0b6-11f0-a5ae-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:00,753 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'a96b7ea6-c0b6-11f0-a5ae-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:02,363 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'a96b7ea6-c0b6-11f0-a5ae-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:05,572 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'a96b7ea6-c0b6-11f0-a5ae-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:05,580 | WARNING | Failed to retrieve secret 'PGPASSWORD': <urllib3.connection.HTTPSConnection object at 0x741c29b272c0>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 17:32:05,580 | INFO | No environment configuration found.
2025-11-13 17:32:05,581 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 17:32:05,582 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ac4d752a-c0b6-11f0-b1c8-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:05,588 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ac4d752a-c0b6-11f0-b1c8-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:07,199 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ac4d752a-c0b6-11f0-b1c8-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:10,409 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ac4d752a-c0b6-11f0-b1c8-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:10,416 | WARNING | Failed to retrieve secret 'PGDATABASE': <urllib3.connection.HTTPSConnection object at 0x741c29b51df0>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 17:32:10,426 | ERROR | ‚ùå Database connection failed: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
Traceback (most recent call last):
  File "/home/seanthakur/pubmed_pipeline/rag/rag_retriever.py", line 20, in get_db_connection
    conn = psycopg2.connect(
           ^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?

2025-11-13 17:32:10,429 | ERROR | ‚ö†Ô∏è Retrieval failed: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
Traceback (most recent call last):
  File "/home/seanthakur/pubmed_pipeline/rag/rag_retriever.py", line 41, in retrieve_docs
    conn = get_db_connection()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/rag/rag_retriever.py", line 20, in get_db_connection
    conn = psycopg2.connect(
           ^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?

2025-11-13 17:32:10,430 | INFO | No environment configuration found.
2025-11-13 17:32:10,431 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 17:32:10,432 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-endpoint/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'af317f80-c0b6-11f0-a4f6-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:10,440 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-endpoint/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'af317f80-c0b6-11f0-a4f6-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:12,046 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-endpoint/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'af317f80-c0b6-11f0-a4f6-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:15,253 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-endpoint/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'af317f80-c0b6-11f0-a4f6-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:15,265 | WARNING | Failed to retrieve secret 'azure-openai-endpoint': <urllib3.connection.HTTPSConnection object at 0x741c29b787d0>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 17:32:15,265 | INFO | No environment configuration found.
2025-11-13 17:32:15,266 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 17:32:15,267 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-key/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b2134bc8-c0b6-11f0-b510-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:15,281 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-key/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b2134bc8-c0b6-11f0-b510-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:16,889 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-key/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b2134bc8-c0b6-11f0-b510-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:20,099 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-key/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b2134bc8-c0b6-11f0-b510-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:20,117 | WARNING | Failed to retrieve secret 'azure-openai-key': <urllib3.connection.HTTPSConnection object at 0x741c29b7b0e0>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 17:32:20,117 | INFO | üß† Sending generation request to Azure OpenAI for query: 'summarize cisplatin outcomes'
2025-11-13 17:32:20,117 | ERROR | ‚ùå OpenAI API call failed: Invalid URL '/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-05-01-preview': No scheme supplied. Perhaps you meant https:///openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-05-01-preview?
Traceback (most recent call last):
  File "/home/seanthakur/pubmed_pipeline/rag/rag_generator.py", line 55, in generate_answer
    response = requests.post(url, headers=headers, json=payload, timeout=30)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/sessions.py", line 575, in request
    prep = self.prepare_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/sessions.py", line 484, in prepare_request
    p.prepare(
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/models.py", line 367, in prepare
    self.prepare_url(url, params)
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/models.py", line 438, in prepare_url
    raise MissingSchema(
requests.exceptions.MissingSchema: Invalid URL '/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-05-01-preview': No scheme supplied. Perhaps you meant https:///openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-05-01-preview?
2025-11-13 17:32:20,123 | INFO | [trace_id=8112c01b-d602-46a4-9dc4-ab67492e5bae] RAGAnswerAgent: completed RAG generation
2025-11-13 17:32:20,123 | INFO | [trace_id=8112c01b-d602-46a4-9dc4-ab67492e5bae] Current node: rag_answer ‚Üí Next: reporter
2025-11-13 17:32:20,123 | INFO | [trace_id=8112c01b-d602-46a4-9dc4-ab67492e5bae] ‚Üí Executing 'reporter' (Attempt 1/1)
2025-11-13 17:32:20,123 | INFO | [trace_id=8112c01b-d602-46a4-9dc4-ab67492e5bae] ReporterAgent: generating insights
2025-11-13 17:32:20,123 | INFO | [trace_id=8112c01b-d602-46a4-9dc4-ab67492e5bae] ReporterAgent: insight generation complete
2025-11-13 17:32:20,124 | INFO | [trace_id=8112c01b-d602-46a4-9dc4-ab67492e5bae] Workflow reached exit node: reporter
2025-11-13 17:32:20,126 | INFO | ‚úÖ Wrote output file: /home/seanthakur/pubmed_pipeline/outputs/answers/8112c01b-d602-46a4-9dc4-ab67492e5bae.json
2025-11-13 17:32:20,127 | INFO | ‚úÖ Wrote output file: /home/seanthakur/pubmed_pipeline/outputs/summaries/8112c01b-d602-46a4-9dc4-ab67492e5bae.json
2025-11-13 17:32:20,127 | INFO | ‚úÖ Wrote output file: /home/seanthakur/pubmed_pipeline/outputs/insights/8112c01b-d602-46a4-9dc4-ab67492e5bae.json
2025-11-13 17:32:20,127 | INFO | üì¶ OutputWriter.flush | trace_id=8112c01b-d602-46a4-9dc4-ab67492e5bae | answer_len=2 | summary_len=41
2025-11-13 17:32:20,127 | ERROR | ‚ùå LangGraph execution failed inside /ask. Falling back to stub mode.
Traceback (most recent call last):
  File "/home/seanthakur/pubmed_pipeline/api/routes/ask.py", line 182, in ask_question
    return _build_query_response_from_state(state)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/api/routes/ask.py", line 92, in _build_query_response_from_state
    return QueryResponse(
           ^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for QueryResponse
answer
  Input should be a valid string [type=string_type, input_value={'query': 'summarize cisp...on=2024-05-01-preview?"}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/string_type
2025-11-13 17:32:20,128 | WARNING | üü° Returning stub response | workflow=router_summarizer_raganswer_reporter | trace_id=7c1731db-0f0f-4751-b414-f55b6f2e89e8
2025-11-13 17:32:20,129 | INFO | ‚úÖ Wrote output file: /home/seanthakur/pubmed_pipeline/outputs/answers/7c1731db-0f0f-4751-b414-f55b6f2e89e8.json
2025-11-13 17:32:20,129 | INFO | ‚úÖ Wrote output file: /home/seanthakur/pubmed_pipeline/outputs/summaries/7c1731db-0f0f-4751-b414-f55b6f2e89e8.json
2025-11-13 17:32:20,130 | INFO | ‚úÖ Wrote output file: /home/seanthakur/pubmed_pipeline/outputs/insights/7c1731db-0f0f-4751-b414-f55b6f2e89e8.json
2025-11-13 17:32:20,130 | INFO | üì¶ OutputWriter.flush | trace_id=7c1731db-0f0f-4751-b414-f55b6f2e89e8 | answer_len=112 | summary_len=120
2025-11-13 17:32:23,509 | INFO | ‚û°Ô∏è /ask called | query='summarize cisplatin outcomes...' | workflow=router_summarizer_raganswer_reporter
2025-11-13 17:32:23,509 | INFO | üîÅ Running workflow='router_summarizer_raganswer_reporter' via DagController | query='summarize cisplatin outcomes...'
2025-11-13 17:32:23,509 | INFO | [trace_id=43d7445b-3856-4d4d-a808-d51c9e3c1007] Starting workflow: router_summarizer_raganswer_reporter
2025-11-13 17:32:23,510 | INFO | [trace_id=43d7445b-3856-4d4d-a808-d51c9e3c1007] ‚Üí Executing 'router' (Attempt 1/1)
2025-11-13 17:32:23,510 | INFO | [trace_id=43d7445b-3856-4d4d-a808-d51c9e3c1007] RouterAgent: starting routing
2025-11-13 17:32:23,510 | INFO | [trace_id=43d7445b-3856-4d4d-a808-d51c9e3c1007] RouterAgent: routing completed
2025-11-13 17:32:23,510 | INFO | [trace_id=43d7445b-3856-4d4d-a808-d51c9e3c1007] Current node: router ‚Üí Next: summarizer
2025-11-13 17:32:23,510 | INFO | [trace_id=43d7445b-3856-4d4d-a808-d51c9e3c1007] ‚Üí Executing 'summarizer' (Attempt 1/1)
2025-11-13 17:32:23,511 | INFO | [trace_id=43d7445b-3856-4d4d-a808-d51c9e3c1007] SummarizerAgent: starting summarization
2025-11-13 17:32:23,511 | INFO | [trace_id=43d7445b-3856-4d4d-a808-d51c9e3c1007] SummarizerAgent: summarization complete
2025-11-13 17:32:23,511 | INFO | [trace_id=43d7445b-3856-4d4d-a808-d51c9e3c1007] Current node: summarizer ‚Üí Next: rag_answer
2025-11-13 17:32:23,511 | INFO | [trace_id=43d7445b-3856-4d4d-a808-d51c9e3c1007] ‚Üí Executing 'rag_answer' (Attempt 1/2)
2025-11-13 17:32:23,512 | INFO | [trace_id=43d7445b-3856-4d4d-a808-d51c9e3c1007] RAGAnswerAgent: executing RAG pipeline
2025-11-13 17:32:23,512 | INFO | ‚û°Ô∏è Retrieving top 3 results for query: 'summarize cisplatin outcomes'
2025-11-13 17:32:23,512 | INFO | No environment configuration found.
2025-11-13 17:32:23,513 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 17:32:23,514 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b6fda006-c0b6-11f0-9298-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:23,524 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b6fda006-c0b6-11f0-9298-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:25,133 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b6fda006-c0b6-11f0-9298-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:28,343 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGHOST/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b6fda006-c0b6-11f0-9298-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:28,351 | WARNING | Failed to retrieve secret 'PGHOST': <urllib3.connection.HTTPSConnection object at 0x741c27f41040>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 17:32:28,351 | INFO | No environment configuration found.
2025-11-13 17:32:28,352 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 17:32:28,354 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b9e0206d-c0b6-11f0-a20b-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:28,364 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b9e0206d-c0b6-11f0-a20b-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:29,983 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b9e0206d-c0b6-11f0-a20b-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:33,190 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGUSER/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b9e0206d-c0b6-11f0-a20b-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:33,198 | WARNING | Failed to retrieve secret 'PGUSER': <urllib3.connection.HTTPSConnection object at 0x741c27f916d0>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 17:32:33,198 | INFO | No environment configuration found.
2025-11-13 17:32:33,199 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 17:32:33,200 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'bcc3a450-c0b6-11f0-af21-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:33,208 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'bcc3a450-c0b6-11f0-af21-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:34,814 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'bcc3a450-c0b6-11f0-af21-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:38,021 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGPASSWORD/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'bcc3a450-c0b6-11f0-af21-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:38,030 | WARNING | Failed to retrieve secret 'PGPASSWORD': <urllib3.connection.HTTPSConnection object at 0x741c27fbc110>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 17:32:38,030 | INFO | No environment configuration found.
2025-11-13 17:32:38,031 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 17:32:38,032 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'bfa4e57e-c0b6-11f0-91af-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:38,043 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'bfa4e57e-c0b6-11f0-91af-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:39,651 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'bfa4e57e-c0b6-11f0-91af-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:42,859 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/PGDATABASE/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'bfa4e57e-c0b6-11f0-91af-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:42,869 | WARNING | Failed to retrieve secret 'PGDATABASE': <urllib3.connection.HTTPSConnection object at 0x741c27fbea50>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 17:32:42,870 | ERROR | ‚ùå Database connection failed: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
Traceback (most recent call last):
  File "/home/seanthakur/pubmed_pipeline/rag/rag_retriever.py", line 20, in get_db_connection
    conn = psycopg2.connect(
           ^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?

2025-11-13 17:32:42,870 | ERROR | ‚ö†Ô∏è Retrieval failed: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
Traceback (most recent call last):
  File "/home/seanthakur/pubmed_pipeline/rag/rag_retriever.py", line 41, in retrieve_docs
    conn = get_db_connection()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/rag/rag_retriever.py", line 20, in get_db_connection
    conn = psycopg2.connect(
           ^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?

2025-11-13 17:32:42,871 | INFO | No environment configuration found.
2025-11-13 17:32:42,872 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 17:32:42,873 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-endpoint/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'c2878e12-c0b6-11f0-b54f-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:42,878 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-endpoint/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'c2878e12-c0b6-11f0-b54f-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:44,484 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-endpoint/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'c2878e12-c0b6-11f0-b54f-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:47,693 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-endpoint/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'c2878e12-c0b6-11f0-b54f-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:47,702 | WARNING | Failed to retrieve secret 'azure-openai-endpoint': <urllib3.connection.HTTPSConnection object at 0x741c27fe5280>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 17:32:47,702 | INFO | No environment configuration found.
2025-11-13 17:32:47,703 | INFO | ManagedIdentityCredential will use IMDS
2025-11-13 17:32:47,704 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-key/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'c568cec1-c0b6-11f0-b155-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:47,712 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-key/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'c568cec1-c0b6-11f0-b155-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:49,322 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-key/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'c568cec1-c0b6-11f0-b155-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:52,530 | INFO | Request URL: 'https://pubmed-pipeline-kv.vault.azure.net/secrets/azure-openai-key/?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'c568cec1-c0b6-11f0-b155-000d3aff6ce0'
    'User-Agent': 'azsdk-python-keyvault-secrets/4.10.0 Python/3.12.3 (Linux-6.14.0-1012-azure-x86_64-with-glibc2.39)'
No body was attached to the request
2025-11-13 17:32:52,539 | WARNING | Failed to retrieve secret 'azure-openai-key': <urllib3.connection.HTTPSConnection object at 0x741c27fe7c80>: Failed to resolve 'pubmed-pipeline-kv.vault.azure.net' ([Errno -2] Name or service not known)
2025-11-13 17:32:52,539 | INFO | üß† Sending generation request to Azure OpenAI for query: 'summarize cisplatin outcomes'
2025-11-13 17:32:52,540 | ERROR | ‚ùå OpenAI API call failed: Invalid URL '/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-05-01-preview': No scheme supplied. Perhaps you meant https:///openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-05-01-preview?
Traceback (most recent call last):
  File "/home/seanthakur/pubmed_pipeline/rag/rag_generator.py", line 55, in generate_answer
    response = requests.post(url, headers=headers, json=payload, timeout=30)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/sessions.py", line 575, in request
    prep = self.prepare_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/sessions.py", line 484, in prepare_request
    p.prepare(
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/models.py", line 367, in prepare
    self.prepare_url(url, params)
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/requests/models.py", line 438, in prepare_url
    raise MissingSchema(
requests.exceptions.MissingSchema: Invalid URL '/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-05-01-preview': No scheme supplied. Perhaps you meant https:///openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-05-01-preview?
2025-11-13 17:32:52,541 | INFO | [trace_id=43d7445b-3856-4d4d-a808-d51c9e3c1007] RAGAnswerAgent: completed RAG generation
2025-11-13 17:32:52,541 | INFO | [trace_id=43d7445b-3856-4d4d-a808-d51c9e3c1007] Current node: rag_answer ‚Üí Next: reporter
2025-11-13 17:32:52,541 | INFO | [trace_id=43d7445b-3856-4d4d-a808-d51c9e3c1007] ‚Üí Executing 'reporter' (Attempt 1/1)
2025-11-13 17:32:52,541 | INFO | [trace_id=43d7445b-3856-4d4d-a808-d51c9e3c1007] ReporterAgent: generating insights
2025-11-13 17:32:52,541 | INFO | [trace_id=43d7445b-3856-4d4d-a808-d51c9e3c1007] ReporterAgent: insight generation complete
2025-11-13 17:32:52,542 | INFO | [trace_id=43d7445b-3856-4d4d-a808-d51c9e3c1007] Workflow reached exit node: reporter
2025-11-13 17:32:52,544 | INFO | ‚úÖ Wrote output file: /home/seanthakur/pubmed_pipeline/outputs/answers/43d7445b-3856-4d4d-a808-d51c9e3c1007.json
2025-11-13 17:32:52,545 | INFO | ‚úÖ Wrote output file: /home/seanthakur/pubmed_pipeline/outputs/summaries/43d7445b-3856-4d4d-a808-d51c9e3c1007.json
2025-11-13 17:32:52,546 | INFO | ‚úÖ Wrote output file: /home/seanthakur/pubmed_pipeline/outputs/insights/43d7445b-3856-4d4d-a808-d51c9e3c1007.json
2025-11-13 17:32:52,546 | INFO | üì¶ OutputWriter.flush | trace_id=43d7445b-3856-4d4d-a808-d51c9e3c1007 | answer_len=2 | summary_len=41
2025-11-13 17:32:52,546 | ERROR | ‚ùå LangGraph execution failed inside /ask. Falling back to stub mode.
Traceback (most recent call last):
  File "/home/seanthakur/pubmed_pipeline/api/routes/ask.py", line 182, in ask_question
    return _build_query_response_from_state(state)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/api/routes/ask.py", line 92, in _build_query_response_from_state
    return QueryResponse(
           ^^^^^^^^^^^^^^
  File "/home/seanthakur/pubmed_pipeline/venv/lib/python3.12/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for QueryResponse
answer
  Input should be a valid string [type=string_type, input_value={'query': 'summarize cisp...on=2024-05-01-preview?"}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/string_type
2025-11-13 17:32:52,549 | WARNING | üü° Returning stub response | workflow=router_summarizer_raganswer_reporter | trace_id=caeb4e9e-2957-47f7-935f-844387607e51
2025-11-13 17:32:52,549 | INFO | ‚úÖ Wrote output file: /home/seanthakur/pubmed_pipeline/outputs/answers/caeb4e9e-2957-47f7-935f-844387607e51.json
2025-11-13 17:32:52,549 | INFO | ‚úÖ Wrote output file: /home/seanthakur/pubmed_pipeline/outputs/summaries/caeb4e9e-2957-47f7-935f-844387607e51.json
2025-11-13 17:32:52,550 | INFO | ‚úÖ Wrote output file: /home/seanthakur/pubmed_pipeline/outputs/insights/caeb4e9e-2957-47f7-935f-844387607e51.json
2025-11-13 17:32:52,550 | INFO | üì¶ OutputWriter.flush | trace_id=caeb4e9e-2957-47f7-935f-844387607e51 | answer_len=112 | summary_len=120
2025-11-13 17:58:14,026 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:58:14,028 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:58:14,029 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:58:14,030 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 17:58:14,030 | INFO | LangGraph Smoke Test Starting
2025-11-13 17:58:14,034 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 17:58:14,034 | INFO | Running workflow: router_summarizer_raganswer_reporter
2025-11-13 17:58:14,035 | INFO | [trace_id=574f6d03-92e4-42c6-8e9d-6e58351f4497] Starting workflow: router_summarizer_raganswer_reporter
2025-11-13 17:58:14,035 | INFO | [trace_id=574f6d03-92e4-42c6-8e9d-6e58351f4497] ‚Üí Executing 'router' (Attempt 1/1)
2025-11-13 17:58:14,035 | INFO | [trace_id=574f6d03-92e4-42c6-8e9d-6e58351f4497] RouterAgent: starting routing
2025-11-13 17:58:14,035 | INFO | [trace_id=574f6d03-92e4-42c6-8e9d-6e58351f4497] RouterAgent: routing completed
2025-11-13 17:58:14,035 | INFO | [trace_id=574f6d03-92e4-42c6-8e9d-6e58351f4497] Current node: router ‚Üí Next: summarizer
2025-11-13 17:58:14,036 | INFO | [trace_id=574f6d03-92e4-42c6-8e9d-6e58351f4497] ‚Üí Executing 'summarizer' (Attempt 1/1)
2025-11-13 17:58:14,036 | INFO | [trace_id=574f6d03-92e4-42c6-8e9d-6e58351f4497] SummarizerAgent: starting summarization
2025-11-13 17:58:14,036 | INFO | [trace_id=574f6d03-92e4-42c6-8e9d-6e58351f4497] SummarizerAgent: summarization complete
2025-11-13 17:58:14,036 | INFO | [trace_id=574f6d03-92e4-42c6-8e9d-6e58351f4497] Current node: summarizer ‚Üí Next: rag_answer
2025-11-13 17:58:14,036 | INFO | [trace_id=574f6d03-92e4-42c6-8e9d-6e58351f4497] ‚Üí Executing 'rag_answer' (Attempt 1/2)
2025-11-13 17:58:14,037 | INFO | [trace_id=574f6d03-92e4-42c6-8e9d-6e58351f4497] RAGAnswerAgent: executing RAG pipeline
2025-11-13 17:58:14,037 | INFO | Retrieving top 3 results for query: 'cisplatin S-1 gastric cancer outcomes'
2025-11-13 17:58:14,037 | INFO | [trace_id=574f6d03-92e4-42c6-8e9d-6e58351f4497] RAGAnswerAgent: completed RAG generation
2025-11-13 17:58:14,037 | INFO | [trace_id=574f6d03-92e4-42c6-8e9d-6e58351f4497] Current node: rag_answer ‚Üí Next: reporter
2025-11-13 17:58:14,037 | INFO | [trace_id=574f6d03-92e4-42c6-8e9d-6e58351f4497] ‚Üí Executing 'reporter' (Attempt 1/1)
2025-11-13 17:58:14,037 | INFO | [trace_id=574f6d03-92e4-42c6-8e9d-6e58351f4497] ReporterAgent: generating insights
2025-11-13 17:58:14,037 | INFO | [trace_id=574f6d03-92e4-42c6-8e9d-6e58351f4497] ReporterAgent: insight generation complete
2025-11-13 17:58:14,037 | INFO | [trace_id=574f6d03-92e4-42c6-8e9d-6e58351f4497] Workflow reached exit node: reporter
2025-11-13 17:58:14,038 | INFO | LangGraph Workflow Execution Completed
2025-11-13 17:58:14,039 | INFO | Final State Keys: ['query', 'summary', 'insights', 'answer', 'trace_id', 'debug', 'retrieved_docs', 'context']
2025-11-13 17:58:14,039 | INFO | Final State Dump: {'query': 'cisplatin S-1 gastric cancer outcomes', 'summary': 'Summary for: cisplatin S-1 gastric cancer outcomes', 'insights': 'Insights extracted from summary: Summary for: cisplatin S-1 gastric cancer outcomes', 'answer': 'Answer based on retrieved documents:\n\nMock retrieved document for: cisplatin S-1 gastric cancer outcomes (1/3)\nMock retrieved document for: cisplatin S-1 gastric cancer outcomes (2/3)\nMock retrieved document for: cisplatin S-1 gastric cancer outcomes (3/3)', 'trace_id': '574f6d03-92e4-42c6-8e9d-6e58351f4497', 'debug': {'router': {'status': 'ok'}}, 'retrieved_docs': [{'text': 'Mock retrieved document for: cisplatin S-1 gastric cancer outcomes (1/3)'}, {'text': 'Mock retrieved document for: cisplatin S-1 gastric cancer outcomes (2/3)'}, {'text': 'Mock retrieved document for: cisplatin S-1 gastric cancer outcomes (3/3)'}], 'context': None}
2025-11-13 18:05:13,829 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 18:05:13,830 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 18:05:13,830 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 18:05:13,832 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 18:05:13,832 | INFO | LangGraph Smoke Test Starting
2025-11-13 18:05:13,836 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 18:05:13,836 | INFO | Running workflow: router_summarizer_raganswer_reporter
2025-11-13 18:05:13,836 | INFO | [trace_id=989b0160-1257-4fe5-99ca-d9aa8f17b45b] Starting workflow: router_summarizer_raganswer_reporter
2025-11-13 18:05:13,836 | INFO | [trace_id=989b0160-1257-4fe5-99ca-d9aa8f17b45b] ‚Üí Executing 'router' (Attempt 1/1)
2025-11-13 18:05:13,836 | INFO | [trace_id=989b0160-1257-4fe5-99ca-d9aa8f17b45b] RouterAgent: starting routing
2025-11-13 18:05:13,836 | INFO | [trace_id=989b0160-1257-4fe5-99ca-d9aa8f17b45b] RouterAgent: routing completed
2025-11-13 18:05:13,837 | INFO | [trace_id=989b0160-1257-4fe5-99ca-d9aa8f17b45b] Current node: router ‚Üí Next: summarizer
2025-11-13 18:05:13,837 | INFO | [trace_id=989b0160-1257-4fe5-99ca-d9aa8f17b45b] ‚Üí Executing 'summarizer' (Attempt 1/1)
2025-11-13 18:05:13,837 | INFO | [trace_id=989b0160-1257-4fe5-99ca-d9aa8f17b45b] SummarizerAgent: starting summarization
2025-11-13 18:05:13,837 | INFO | [trace_id=989b0160-1257-4fe5-99ca-d9aa8f17b45b] SummarizerAgent: summarization complete
2025-11-13 18:05:13,837 | INFO | [trace_id=989b0160-1257-4fe5-99ca-d9aa8f17b45b] Current node: summarizer ‚Üí Next: rag_answer
2025-11-13 18:05:13,838 | INFO | [trace_id=989b0160-1257-4fe5-99ca-d9aa8f17b45b] ‚Üí Executing 'rag_answer' (Attempt 1/2)
2025-11-13 18:05:13,838 | INFO | [trace_id=989b0160-1257-4fe5-99ca-d9aa8f17b45b] RAGAnswerAgent: executing RAG pipeline
2025-11-13 18:05:13,838 | INFO | Retrieving top 3 results for query: 'cisplatin S-1 gastric cancer outcomes'
2025-11-13 18:05:13,838 | INFO | [trace_id=989b0160-1257-4fe5-99ca-d9aa8f17b45b] RAGAnswerAgent: completed RAG generation
2025-11-13 18:05:13,838 | INFO | [trace_id=989b0160-1257-4fe5-99ca-d9aa8f17b45b] Current node: rag_answer ‚Üí Next: reporter
2025-11-13 18:05:13,838 | INFO | [trace_id=989b0160-1257-4fe5-99ca-d9aa8f17b45b] ‚Üí Executing 'reporter' (Attempt 1/1)
2025-11-13 18:05:13,838 | INFO | [trace_id=989b0160-1257-4fe5-99ca-d9aa8f17b45b] ReporterAgent: generating insights
2025-11-13 18:05:13,838 | INFO | [trace_id=989b0160-1257-4fe5-99ca-d9aa8f17b45b] ReporterAgent: insight generation complete
2025-11-13 18:05:13,839 | INFO | [trace_id=989b0160-1257-4fe5-99ca-d9aa8f17b45b] Workflow reached exit node: reporter
2025-11-13 18:05:13,839 | INFO | [trace_id=989b0160-1257-4fe5-99ca-d9aa8f17b45b] Saved output artifact ‚Üí /home/seanthakur/pubmed_pipeline/data/artifacts/20251113_180513_989b0160-1257-4fe5-99ca-d9aa8f17b45b.json
2025-11-13 18:05:13,839 | INFO | LangGraph Workflow Execution Completed
2025-11-13 18:05:13,839 | INFO | Final State Keys: ['query', 'summary', 'insights', 'answer', 'trace_id', 'debug', 'retrieved_docs', 'context']
2025-11-13 18:05:13,839 | INFO | Final State Dump: {'query': 'cisplatin S-1 gastric cancer outcomes', 'summary': 'Summary for: cisplatin S-1 gastric cancer outcomes', 'insights': 'Insights extracted from summary: Summary for: cisplatin S-1 gastric cancer outcomes', 'answer': 'Answer based on retrieved documents:\n\nMock retrieved document for: cisplatin S-1 gastric cancer outcomes (1/3)\nMock retrieved document for: cisplatin S-1 gastric cancer outcomes (2/3)\nMock retrieved document for: cisplatin S-1 gastric cancer outcomes (3/3)', 'trace_id': '989b0160-1257-4fe5-99ca-d9aa8f17b45b', 'debug': {'router': {'status': 'ok'}}, 'retrieved_docs': [{'text': 'Mock retrieved document for: cisplatin S-1 gastric cancer outcomes (1/3)'}, {'text': 'Mock retrieved document for: cisplatin S-1 gastric cancer outcomes (2/3)'}, {'text': 'Mock retrieved document for: cisplatin S-1 gastric cancer outcomes (3/3)'}], 'context': None}
2025-11-13 18:13:39,804 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 18:13:39,805 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 18:13:39,806 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 18:13:39,811 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 18:13:39,815 | INFO | Loaded workflow definitions: ['router_summarizer_reporter', 'router_summarizer_raganswer_reporter']
2025-11-13 18:13:39,820 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 18:14:20,441 | INFO | Running workflow 'router_summarizer_raganswer_reporter' for query='cisplatin S-1 gastric cancer outcomes'
2025-11-13 18:14:20,442 | INFO | [trace_id=df74e23c-e483-4883-a7ff-928547ab7643] Starting workflow: router_summarizer_raganswer_reporter
2025-11-13 18:14:20,442 | INFO | [trace_id=df74e23c-e483-4883-a7ff-928547ab7643] ‚Üí Executing 'router' (Attempt 1/1)
2025-11-13 18:14:20,442 | INFO | [trace_id=df74e23c-e483-4883-a7ff-928547ab7643] RouterAgent: starting routing
2025-11-13 18:14:20,442 | INFO | [trace_id=df74e23c-e483-4883-a7ff-928547ab7643] RouterAgent: routing completed
2025-11-13 18:14:20,442 | INFO | [trace_id=df74e23c-e483-4883-a7ff-928547ab7643] Current node: router ‚Üí Next: summarizer
2025-11-13 18:14:20,443 | INFO | [trace_id=df74e23c-e483-4883-a7ff-928547ab7643] ‚Üí Executing 'summarizer' (Attempt 1/1)
2025-11-13 18:14:20,443 | INFO | [trace_id=df74e23c-e483-4883-a7ff-928547ab7643] SummarizerAgent: starting summarization
2025-11-13 18:14:20,443 | INFO | [trace_id=df74e23c-e483-4883-a7ff-928547ab7643] SummarizerAgent: summarization complete
2025-11-13 18:14:20,444 | INFO | [trace_id=df74e23c-e483-4883-a7ff-928547ab7643] Current node: summarizer ‚Üí Next: rag_answer
2025-11-13 18:14:20,444 | INFO | [trace_id=df74e23c-e483-4883-a7ff-928547ab7643] ‚Üí Executing 'rag_answer' (Attempt 1/2)
2025-11-13 18:14:20,444 | INFO | [trace_id=df74e23c-e483-4883-a7ff-928547ab7643] RAGAnswerAgent: executing RAG pipeline
2025-11-13 18:14:20,444 | INFO | Retrieving top 3 results for query: 'cisplatin S-1 gastric cancer outcomes'
2025-11-13 18:14:20,444 | INFO | [trace_id=df74e23c-e483-4883-a7ff-928547ab7643] RAGAnswerAgent: completed RAG generation
2025-11-13 18:14:20,444 | INFO | [trace_id=df74e23c-e483-4883-a7ff-928547ab7643] Current node: rag_answer ‚Üí Next: reporter
2025-11-13 18:14:20,444 | INFO | [trace_id=df74e23c-e483-4883-a7ff-928547ab7643] ‚Üí Executing 'reporter' (Attempt 1/1)
2025-11-13 18:14:20,444 | INFO | [trace_id=df74e23c-e483-4883-a7ff-928547ab7643] ReporterAgent: generating insights
2025-11-13 18:14:20,444 | INFO | [trace_id=df74e23c-e483-4883-a7ff-928547ab7643] ReporterAgent: insight generation complete
2025-11-13 18:14:20,445 | INFO | [trace_id=df74e23c-e483-4883-a7ff-928547ab7643] Workflow reached exit node: reporter
2025-11-13 18:14:20,446 | INFO | [trace_id=df74e23c-e483-4883-a7ff-928547ab7643] Saved output artifact ‚Üí /home/seanthakur/pubmed_pipeline/data/artifacts/20251113_181420_df74e23c-e483-4883-a7ff-928547ab7643.json
2025-11-13 20:25:36,325 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:25:36,330 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:25:36,332 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:25:36,335 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:30:09,113 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:30:09,115 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:30:09,116 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:30:09,118 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:30:09,119 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:30:09,119 | INFO | üöÄ Starting LangGraph Smoke Test (fallback mode)
2025-11-13 20:30:09,119 | WARNING | LangGraph starting in fallback mode (no LLM).
2025-11-13 20:30:09,122 | INFO | LangGraph pipeline constructed successfully.
2025-11-13 20:30:09,130 | INFO | [trace_id=cef7d7ab-f28e-4a42-8771-ec739a8a769d] ‚Üí Starting node: router
2025-11-13 20:30:09,130 | INFO | RouterAgent: routing query='Does cisplatin plus S-1 improve gastric cancer outcomes?'
2025-11-13 20:30:09,130 | INFO | [trace_id=cef7d7ab-f28e-4a42-8771-ec739a8a769d] ‚Üê Completed node: router
2025-11-13 20:30:09,131 | INFO | [trace_id=cef7d7ab-f28e-4a42-8771-ec739a8a769d] ‚Üí Starting node: summarizer
2025-11-13 20:30:09,131 | INFO | SummarizerAgent: start
2025-11-13 20:30:09,131 | WARNING | SummarizerAgent: no LLM provided, using fallback summary.
2025-11-13 20:30:09,132 | INFO | SummarizerAgent: completed
2025-11-13 20:30:09,132 | INFO | [trace_id=cef7d7ab-f28e-4a42-8771-ec739a8a769d] ‚Üê Completed node: summarizer
2025-11-13 20:30:09,133 | INFO | [trace_id=cef7d7ab-f28e-4a42-8771-ec739a8a769d] ‚Üí Starting node: reporter
2025-11-13 20:30:09,133 | INFO | ReporterAgent: start
2025-11-13 20:30:09,133 | WARNING | ReporterAgent: no LLM provided; generating fallback insights.
2025-11-13 20:30:09,134 | INFO | ReporterAgent: completed
2025-11-13 20:30:09,134 | INFO | [trace_id=cef7d7ab-f28e-4a42-8771-ec739a8a769d] ‚Üê Completed node: reporter
2025-11-13 20:30:09,134 | INFO | [trace_id=cef7d7ab-f28e-4a42-8771-ec739a8a769d] ‚Üí Starting node: rag_answer
2025-11-13 20:30:09,134 | INFO | RAGAnswerAgent: starting run for trace_id=cef7d7ab-f28e-4a42-8771-ec739a8a769d
2025-11-13 20:30:09,134 | INFO | RAGAnswerAgent: using structured mock retrieval for query='Does cisplatin plus S-1 improve gastric cancer outcomes?'
2025-11-13 20:30:09,135 | WARNING | RAGAnswerAgent: no LLM configured; using deterministic fallback answer.
2025-11-13 20:30:09,135 | INFO | RAGAnswerAgent: completed run for trace_id=cef7d7ab-f28e-4a42-8771-ec739a8a769d
2025-11-13 20:30:09,135 | INFO | [trace_id=cef7d7ab-f28e-4a42-8771-ec739a8a769d] ‚Üê Completed node: rag_answer
2025-11-13 20:30:09,135 | INFO | ========================================
2025-11-13 20:30:09,136 | INFO | LangGraph Pipeline Completed Successfully
2025-11-13 20:32:20,910 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:32:20,911 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:32:20,913 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:32:20,914 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:32:20,915 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:32:20,915 | INFO | üöÄ Starting LangGraph Smoke Test (fallback mode)
2025-11-13 20:32:20,915 | WARNING | LangGraph running in fallback mode (no LLM).
2025-11-13 20:32:20,918 | INFO | LangGraph pipeline constructed successfully.
2025-11-13 20:32:20,924 | INFO | [trace_id=b1fb1388-4618-41e4-89fb-ebb8d53bcc06] ‚Üí Starting node: router
2025-11-13 20:32:20,925 | INFO | RouterAgent: routing query='Does cisplatin plus S-1 improve gastric cancer outcomes?'
2025-11-13 20:32:20,925 | INFO | [trace_id=b1fb1388-4618-41e4-89fb-ebb8d53bcc06] ‚Üê Completed node: router
2025-11-13 20:32:20,926 | INFO | [trace_id=b1fb1388-4618-41e4-89fb-ebb8d53bcc06] ‚Üí Starting node: summarizer
2025-11-13 20:32:20,926 | INFO | SummarizerAgent: start
2025-11-13 20:32:20,926 | WARNING | SummarizerAgent: no LLM provided, using fallback summary.
2025-11-13 20:32:20,926 | INFO | SummarizerAgent: completed
2025-11-13 20:32:20,926 | INFO | [trace_id=b1fb1388-4618-41e4-89fb-ebb8d53bcc06] ‚Üê Completed node: summarizer
2025-11-13 20:32:20,927 | INFO | [trace_id=b1fb1388-4618-41e4-89fb-ebb8d53bcc06] ‚Üí Starting node: reporter
2025-11-13 20:32:20,927 | INFO | ReporterAgent: start
2025-11-13 20:32:20,927 | WARNING | ReporterAgent: no LLM provided; generating fallback insights.
2025-11-13 20:32:20,927 | INFO | ReporterAgent: completed
2025-11-13 20:32:20,928 | INFO | [trace_id=b1fb1388-4618-41e4-89fb-ebb8d53bcc06] ‚Üê Completed node: reporter
2025-11-13 20:32:20,928 | INFO | [trace_id=b1fb1388-4618-41e4-89fb-ebb8d53bcc06] ‚Üí Starting node: rag_answer
2025-11-13 20:32:20,928 | INFO | RAGAnswerAgent: starting run for trace_id=b1fb1388-4618-41e4-89fb-ebb8d53bcc06
2025-11-13 20:32:20,929 | INFO | RAGAnswerAgent: using structured mock retrieval for query='Does cisplatin plus S-1 improve gastric cancer outcomes?'
2025-11-13 20:32:20,929 | WARNING | RAGAnswerAgent: no LLM configured; using deterministic fallback answer.
2025-11-13 20:32:20,929 | INFO | RAGAnswerAgent: completed run for trace_id=b1fb1388-4618-41e4-89fb-ebb8d53bcc06
2025-11-13 20:32:20,929 | INFO | [trace_id=b1fb1388-4618-41e4-89fb-ebb8d53bcc06] ‚Üê Completed node: rag_answer
2025-11-13 20:32:20,930 | INFO | ========================================
2025-11-13 20:32:20,930 | INFO | LangGraph Pipeline Completed Successfully
2025-11-13 20:32:20,930 | INFO | Trace ID: b1fb1388-4618-41e4-89fb-ebb8d53bcc06
2025-11-13 20:32:20,930 | INFO | Execution Order: ['router', 'summarizer', 'reporter', 'rag_answer']
2025-11-13 20:32:20,930 | INFO | 
--- Summary ---
This query asks about: Does cisplatin plus S-1 improve gastric cancer outcomes?...
2025-11-13 20:32:20,930 | INFO | 
--- Insights ---
['High-level topic identified.', 'Primary question relates to clinical outcomes.']
2025-11-13 20:32:20,931 | INFO | 
--- Retrieved Docs ---
[{'id': 'MOCK_PMID_0001', 'text': 'Cisplatin and S-1 combination therapy has shown improved overall survival in advanced gastric cancer.', 'score': 0.92}, {'id': 'MOCK_PMID_0002', 'text': 'Fluorouracil-based regimens remain a standard backbone in gastroesophageal adenocarcinoma treatment.', 'score': 0.88}]
2025-11-13 20:32:20,931 | INFO | 
--- Final Answer ---
Based on the available mock evidence, here is a synthesized answer to your question:

Question: Does cisplatin plus S-1 improve gastric cancer outcomes?

Summary: This query asks about: Does cisplatin plus S-1 improve gastric cancer outcomes?...

Key insights:
- High-level topic identified.
- Primary question relates to clinical outcomes.

Supporting documents:
- Cisplatin and S-1 combination therapy has shown improved overall survival in advanced gastric cancer.
- Fluorouracil-based regimens remain a standard backbone in gastroesophageal adenocarcinoma treatment.
2025-11-13 20:32:20,931 | INFO | ========================================
2025-11-13 20:46:36,356 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:46:36,357 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:46:36,358 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:46:36,360 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:46:36,360 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:46:36,361 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:46:36,361 | INFO | üöÄ DAGController Smoke Test Starting
2025-11-13 20:46:36,362 | INFO | DAGController: compiling LangGraph graph for the first time.
2025-11-13 20:46:36,362 | WARNING | LangGraph running in fallback mode (no LLM).
2025-11-13 20:46:36,365 | INFO | LangGraph pipeline constructed successfully.
2025-11-13 20:46:36,371 | INFO | DAGController: graph compiled and cached.
2025-11-13 20:46:36,371 | INFO | DAGController: starting pipeline run for query='Does cisplatin plus S-1 improve gastric cancer outcomes?'
2025-11-13 20:46:36,373 | INFO | [trace_id=72fd4b06-051b-4d3d-9bff-0be14e70c234] ‚Üí Starting node: router
2025-11-13 20:46:36,373 | INFO | RouterAgent: routing query='Does cisplatin plus S-1 improve gastric cancer outcomes?'
2025-11-13 20:46:36,373 | INFO | [trace_id=72fd4b06-051b-4d3d-9bff-0be14e70c234] ‚Üê Completed node: router
2025-11-13 20:46:36,374 | INFO | [trace_id=72fd4b06-051b-4d3d-9bff-0be14e70c234] ‚Üí Starting node: summarizer
2025-11-13 20:46:36,374 | INFO | SummarizerAgent: start
2025-11-13 20:46:36,374 | WARNING | SummarizerAgent: no LLM provided, using fallback summary.
2025-11-13 20:46:36,375 | INFO | SummarizerAgent: completed
2025-11-13 20:46:36,375 | INFO | [trace_id=72fd4b06-051b-4d3d-9bff-0be14e70c234] ‚Üê Completed node: summarizer
2025-11-13 20:46:36,376 | INFO | [trace_id=72fd4b06-051b-4d3d-9bff-0be14e70c234] ‚Üí Starting node: reporter
2025-11-13 20:46:36,376 | INFO | ReporterAgent: start
2025-11-13 20:46:36,376 | WARNING | ReporterAgent: no LLM provided; generating fallback insights.
2025-11-13 20:46:36,376 | INFO | ReporterAgent: completed
2025-11-13 20:46:36,376 | INFO | [trace_id=72fd4b06-051b-4d3d-9bff-0be14e70c234] ‚Üê Completed node: reporter
2025-11-13 20:46:36,380 | INFO | [trace_id=72fd4b06-051b-4d3d-9bff-0be14e70c234] ‚Üí Starting node: rag_answer
2025-11-13 20:46:36,380 | INFO | RAGAnswerAgent: starting run for trace_id=72fd4b06-051b-4d3d-9bff-0be14e70c234
2025-11-13 20:46:36,380 | INFO | RAGAnswerAgent: using structured mock retrieval for query='Does cisplatin plus S-1 improve gastric cancer outcomes?'
2025-11-13 20:46:36,380 | WARNING | RAGAnswerAgent: no LLM configured; using deterministic fallback answer.
2025-11-13 20:46:36,381 | INFO | RAGAnswerAgent: completed run for trace_id=72fd4b06-051b-4d3d-9bff-0be14e70c234
2025-11-13 20:46:36,381 | INFO | [trace_id=72fd4b06-051b-4d3d-9bff-0be14e70c234] ‚Üê Completed node: rag_answer
2025-11-13 20:46:36,381 | INFO | DAGController: pipeline completed successfully trace_id=72fd4b06-051b-4d3d-9bff-0be14e70c234 runtime=0.011s
2025-11-13 20:46:36,381 | INFO | DAGController response: {'trace_id': '72fd4b06-051b-4d3d-9bff-0be14e70c234', 'result': {'summary': 'This query asks about: Does cisplatin plus S-1 improve gastric cancer outcomes?...', 'insights': ['High-level topic identified.', 'Primary question relates to clinical outcomes.'], 'retrieved_docs': [{'id': 'MOCK_PMID_0001', 'text': 'Cisplatin and S-1 combination therapy has shown improved overall survival in advanced gastric cancer.', 'score': 0.92}, {'id': 'MOCK_PMID_0002', 'text': 'Fluorouracil-based regimens remain a standard backbone in gastroesophageal adenocarcinoma treatment.', 'score': 0.88}], 'final_answer': 'Based on the available mock evidence, here is a synthesized answer to your question:\n\nQuestion: Does cisplatin plus S-1 improve gastric cancer outcomes?\n\nSummary: This query asks about: Does cisplatin plus S-1 improve gastric cancer outcomes?...\n\nKey insights:\n- High-level topic identified.\n- Primary question relates to clinical outcomes.\n\nSupporting documents:\n- Cisplatin and S-1 combination therapy has shown improved overall survival in advanced gastric cancer.\n- Fluorouracil-based regimens remain a standard backbone in gastroesophageal adenocarcinoma treatment.'}, 'metadata': {'node_sequence': ['router', 'summarizer', 'reporter', 'rag_answer'], 'timestamps': {'router_start': 1763066796.373413, 'router_end': 1763066796.3736148, 'summarizer_start': 1763066796.3747153, 'summarizer_end': 1763066796.3753326, 'reporter_start': 1763066796.3762457, 'reporter_end': 1763066796.376613, 'rag_answer_start': 1763066796.3806505, 'rag_answer_end': 1763066796.3810961}, 'runtime_seconds': 0.010527610778808594}, 'debug': {'raw_state': {'query': 'Does cisplatin plus S-1 improve gastric cancer outcomes?', 'route': 'rag_pipeline', 'summary': 'This query asks about: Does cisplatin plus S-1 improve gastric cancer outcomes?...', 'insights': ['High-level topic identified.', 'Primary question relates to clinical outcomes.'], 'retrieved_docs': [{'id': 'MOCK_PMID_0001', 'text': 'Cisplatin and S-1 combination therapy has shown improved overall survival in advanced gastric cancer.', 'score': 0.92}, {'id': 'MOCK_PMID_0002', 'text': 'Fluorouracil-based regimens remain a standard backbone in gastroesophageal adenocarcinoma treatment.', 'score': 0.88}], 'final_answer': 'Based on the available mock evidence, here is a synthesized answer to your question:\n\nQuestion: Does cisplatin plus S-1 improve gastric cancer outcomes?\n\nSummary: This query asks about: Does cisplatin plus S-1 improve gastric cancer outcomes?...\n\nKey insights:\n- High-level topic identified.\n- Primary question relates to clinical outcomes.\n\nSupporting documents:\n- Cisplatin and S-1 combination therapy has shown improved overall survival in advanced gastric cancer.\n- Fluorouracil-based regimens remain a standard backbone in gastroesophageal adenocarcinoma treatment.', 'trace_id': '72fd4b06-051b-4d3d-9bff-0be14e70c234', 'node_sequence': ['router', 'summarizer', 'reporter', 'rag_answer'], 'timestamps': {'router_start': 1763066796.373413, 'router_end': 1763066796.3736148, 'summarizer_start': 1763066796.3747153, 'summarizer_end': 1763066796.3753326, 'reporter_start': 1763066796.3762457, 'reporter_end': 1763066796.376613, 'rag_answer_start': 1763066796.3806505, 'rag_answer_end': 1763066796.3810961}, 'token_usage': {}, 'artifacts': {}}}}
2025-11-13 20:56:15,897 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:56:15,898 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:56:15,899 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:56:15,900 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:56:15,901 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:56:15,902 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:56:15,902 | INFO | üöÄ DAGController Smoke Test Starting
2025-11-13 20:56:15,902 | INFO | DAGController: compiling LangGraph graph for the first time.
2025-11-13 20:56:15,902 | WARNING | LangGraph running in fallback mode (no LLM).
2025-11-13 20:56:15,905 | INFO | LangGraph pipeline constructed successfully.
2025-11-13 20:56:15,911 | INFO | DAGController: graph compiled and cached.
2025-11-13 20:56:15,911 | INFO | DAGController: starting pipeline run for query='Does cisplatin plus S-1 improve gastric cancer outcomes?'
2025-11-13 20:56:15,913 | INFO | [trace_id=7b3ed319-ae46-491c-affe-007c95805cfe] ‚Üí Starting node: router
2025-11-13 20:56:15,913 | INFO | RouterAgent: routing query='Does cisplatin plus S-1 improve gastric cancer outcomes?'
2025-11-13 20:56:15,913 | INFO | [trace_id=7b3ed319-ae46-491c-affe-007c95805cfe] ‚Üê Completed node: router
2025-11-13 20:56:15,914 | INFO | [trace_id=7b3ed319-ae46-491c-affe-007c95805cfe] ‚Üí Starting node: summarizer
2025-11-13 20:56:15,914 | INFO | SummarizerAgent: start
2025-11-13 20:56:15,914 | WARNING | SummarizerAgent: no LLM provided, using fallback summary.
2025-11-13 20:56:15,915 | INFO | SummarizerAgent: completed
2025-11-13 20:56:15,915 | INFO | [trace_id=7b3ed319-ae46-491c-affe-007c95805cfe] ‚Üê Completed node: summarizer
2025-11-13 20:56:15,916 | INFO | [trace_id=7b3ed319-ae46-491c-affe-007c95805cfe] ‚Üí Starting node: reporter
2025-11-13 20:56:15,916 | INFO | ReporterAgent: start
2025-11-13 20:56:15,916 | WARNING | ReporterAgent: no LLM provided; generating fallback insights.
2025-11-13 20:56:15,916 | INFO | ReporterAgent: completed
2025-11-13 20:56:15,918 | INFO | [trace_id=7b3ed319-ae46-491c-affe-007c95805cfe] ‚Üê Completed node: reporter
2025-11-13 20:56:15,919 | INFO | [trace_id=7b3ed319-ae46-491c-affe-007c95805cfe] ‚Üí Starting node: rag_answer
2025-11-13 20:56:15,920 | INFO | RAGAnswerAgent: starting run for trace_id=7b3ed319-ae46-491c-affe-007c95805cfe
2025-11-13 20:56:15,920 | INFO | RAGAnswerAgent: using structured mock retrieval for query='Does cisplatin plus S-1 improve gastric cancer outcomes?'
2025-11-13 20:56:15,920 | WARNING | RAGAnswerAgent: no LLM configured; using deterministic fallback answer.
2025-11-13 20:56:15,920 | INFO | RAGAnswerAgent: completed run for trace_id=7b3ed319-ae46-491c-affe-007c95805cfe
2025-11-13 20:56:15,920 | INFO | [trace_id=7b3ed319-ae46-491c-affe-007c95805cfe] ‚Üê Completed node: rag_answer
2025-11-13 20:56:15,921 | INFO | DAGController: pipeline completed successfully trace_id=7b3ed319-ae46-491c-affe-007c95805cfe runtime=0.010s
2025-11-13 20:56:15,921 | INFO | DAGController response: {'trace_id': '7b3ed319-ae46-491c-affe-007c95805cfe', 'result': {'summary': 'This query asks about: Does cisplatin plus S-1 improve gastric cancer outcomes?...', 'insights': ['High-level topic identified.', 'Primary question relates to clinical outcomes.'], 'retrieved_docs': [{'id': 'MOCK_PMID_0001', 'text': 'Cisplatin and S-1 combination therapy has shown improved overall survival in advanced gastric cancer.', 'score': 0.92}, {'id': 'MOCK_PMID_0002', 'text': 'Fluorouracil-based regimens remain a standard backbone in gastroesophageal adenocarcinoma treatment.', 'score': 0.88}], 'final_answer': 'Based on the available mock evidence, here is a synthesized answer to your question:\n\nQuestion: Does cisplatin plus S-1 improve gastric cancer outcomes?\n\nSummary: This query asks about: Does cisplatin plus S-1 improve gastric cancer outcomes?...\n\nKey insights:\n- High-level topic identified.\n- Primary question relates to clinical outcomes.\n\nSupporting documents:\n- Cisplatin and S-1 combination therapy has shown improved overall survival in advanced gastric cancer.\n- Fluorouracil-based regimens remain a standard backbone in gastroesophageal adenocarcinoma treatment.'}, 'metadata': {'node_sequence': ['router', 'summarizer', 'reporter', 'rag_answer'], 'timestamps': {'router_start': 1763067375.9136605, 'router_end': 1763067375.9138665, 'summarizer_start': 1763067375.9147825, 'summarizer_end': 1763067375.9152448, 'reporter_start': 1763067375.9163487, 'reporter_end': 1763067375.9189246, 'rag_answer_start': 1763067375.920152, 'rag_answer_end': 1763067375.9207757}, 'runtime_seconds': 0.010055303573608398}, 'debug': {'raw_state': {'query': 'Does cisplatin plus S-1 improve gastric cancer outcomes?', 'route': 'rag_pipeline', 'summary': 'This query asks about: Does cisplatin plus S-1 improve gastric cancer outcomes?...', 'insights': ['High-level topic identified.', 'Primary question relates to clinical outcomes.'], 'retrieved_docs': [{'id': 'MOCK_PMID_0001', 'text': 'Cisplatin and S-1 combination therapy has shown improved overall survival in advanced gastric cancer.', 'score': 0.92}, {'id': 'MOCK_PMID_0002', 'text': 'Fluorouracil-based regimens remain a standard backbone in gastroesophageal adenocarcinoma treatment.', 'score': 0.88}], 'final_answer': 'Based on the available mock evidence, here is a synthesized answer to your question:\n\nQuestion: Does cisplatin plus S-1 improve gastric cancer outcomes?\n\nSummary: This query asks about: Does cisplatin plus S-1 improve gastric cancer outcomes?...\n\nKey insights:\n- High-level topic identified.\n- Primary question relates to clinical outcomes.\n\nSupporting documents:\n- Cisplatin and S-1 combination therapy has shown improved overall survival in advanced gastric cancer.\n- Fluorouracil-based regimens remain a standard backbone in gastroesophageal adenocarcinoma treatment.', 'trace_id': '7b3ed319-ae46-491c-affe-007c95805cfe', 'node_sequence': ['router', 'summarizer', 'reporter', 'rag_answer'], 'timestamps': {'router_start': 1763067375.9136605, 'router_end': 1763067375.9138665, 'summarizer_start': 1763067375.9147825, 'summarizer_end': 1763067375.9152448, 'reporter_start': 1763067375.9163487, 'reporter_end': 1763067375.9189246, 'rag_answer_start': 1763067375.920152, 'rag_answer_end': 1763067375.9207757}, 'token_usage': {}, 'artifacts': {}}}}
2025-11-13 20:58:12,098 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:58:12,099 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:58:12,100 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 20:58:12,101 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 21:01:10,468 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 21:01:17,396 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 21:01:17,397 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 21:01:17,398 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 21:01:17,399 | INFO | ‚úÖ Logger initialized successfully.
2025-11-13 21:01:17,401 | INFO | DAGController initialized
2025-11-13 21:01:17,401 | INFO | Compiling LangGraph pipeline...
2025-11-13 21:01:17,408 | INFO | LangGraph pipeline compiled successfully.
2025-11-13 21:01:17,408 | INFO | Starting DAG run trace_id=038d511e-3ae1-440c-9925-dc36c294d9ee
